from datetime import date, timedelta
from models import (
    Policy, Deployment, FundingProgram, SafetyIncident,
    Resource, CurbsideRegulation, NewsArticle,
)


def seed_database(db):
    """Populate all tables with realistic AV Hub seed data."""
    _seed_policies(db)
    _seed_deployments(db)
    _seed_funding(db)
    _seed_incidents(db)
    _seed_resources(db)
    _seed_news(db)
    _seed_curbside(db)


# ------------------------------------------------------------------ #
#  POLICIES (20)
# ------------------------------------------------------------------ #
def _seed_policies(db):
    if db.query(Policy).count() > 0:
        return
    # (jurisdiction, state_code, policy_type, title, vehicle_class, date, status, summary, source_url)
    data = [
        ("Nevada", "NV", "legislation", "Nevada AB 511 - Authorization of Autonomous Vehicles", "All motor vehicles", date(2011, 6, 17), "enacted",
         "Nevada became the first state in the nation to authorize the operation of autonomous vehicles on public roads. The law directed the Department of Motor Vehicles to adopt regulations for AV testing and operation.",
         "https://www.leg.state.nv.us/Session/76th2011/Bills/AB/AB511_EN.pdf"),
        ("California", "CA", "legislation", "California SB 1298 - Autonomous Vehicles: Safety and Performance Requirements", "All motor vehicles", date(2012, 9, 25), "enacted",
         "Established a framework for testing autonomous vehicles on California public roads. Required the DMV to adopt regulations covering testing and public operation of AVs, including manufacturer permits and reporting requirements.",
         "https://leginfo.legislature.ca.gov/faces/billNavClient.xhtml?bill_id=201120120SB1298"),
        ("Florida", "FL", "legislation", "Florida SB 52 - Autonomous Vehicles", "All motor vehicles", date(2016, 3, 24), "enacted",
         "Allows fully autonomous vehicles to operate on Florida public roads without a human driver present in the vehicle. Removed the requirement for a licensed operator to be inside the vehicle during operation.",
         "https://www.flsenate.gov/Session/Bill/2016/52"),
        ("Arizona", "AZ", "executive_order", "Arizona Executive Order 2015-09 - Self-Driving Vehicle Testing and Piloting", "All motor vehicles", date(2015, 8, 25), "enacted",
         "Directed state agencies to support the testing and operation of self-driving vehicles on public roads. Established a Self-Driving Vehicle Oversight Committee and enabled pilot programs throughout Arizona.",
         "https://azgovernor.gov/executive-orders"),
        ("Michigan", "MI", "legislation", "Michigan SB 995-999 - Comprehensive Autonomous Vehicle Package", "All motor vehicles including commercial", date(2016, 12, 9), "enacted",
         "A comprehensive four-bill package establishing rules for autonomous vehicle research, testing, and deployment on Michigan roads. Allows operation of AVs on public roads without a human driver.",
         "https://www.legislature.mi.gov/documents/2015-2016/billanalysis/Senate/pdf/2015-SFA-0995-N.pdf"),
        ("Texas", "TX", "legislation", "Texas SB 2205 - Operation of Automated Motor Vehicles", "All motor vehicles", date(2017, 6, 12), "enacted",
         "Authorized the operation of automated motor vehicles on Texas roads regardless of whether a human operator is present. Defined automated driving systems and established compliance requirements.",
         "https://capitol.texas.gov/BillLookup/History.aspx?LegSess=85R&Bill=SB2205"),
        ("Georgia", "GA", "legislation", "Georgia SB 219 - Autonomous Vehicles on Public Roads", "All motor vehicles", date(2017, 5, 8), "enacted",
         "Authorized the operation of fully autonomous vehicles on Georgia public roads. Established definitions for automated driving systems and set forth operational requirements for AV deployment.",
         "https://www.legis.ga.gov/legislation/en-US/Display/20172018/SB/219"),
        ("Pennsylvania", "PA", "legislation", "Pennsylvania Act 2022-73 - Highly Automated Vehicles", "Passenger vehicles", date(2022, 7, 1), "enacted",
         "Established a comprehensive regulatory framework for highly automated vehicles. Includes provisions for platoon operation of commercial trucks and requires registration and insurance standards.",
         "https://www.legis.state.pa.us/cfdocs/legis/li/uconsCheck.cfm?yr=2022&sessInd=0&act=73"),
        ("Colorado", "CO", "legislation", "Colorado SB 17-213 - Autonomous Driving Task Force", "All motor vehicles", date(2017, 6, 1), "enacted",
         "Created the Autonomous Vehicles Task Force to study and recommend policies for AV testing and deployment. The task force was charged with identifying barriers and producing legislative recommendations.",
         "https://leg.colorado.gov/bills/sb17-213"),
        ("Tennessee", "TN", "legislation", "Tennessee SB 151 - Autonomous Vehicle Act", "Passenger vehicles and trucks", date(2017, 4, 24), "enacted",
         "Authorized ADS-equipped vehicles to operate on Tennessee roads. Mandated that AVs comply with all applicable traffic laws and required manufacturers to submit law enforcement interaction plans.",
         "https://wapp.capitol.tn.gov/apps/BillInfo/Default.aspx?BillNumber=SB0151"),
        ("New York", "NY", "legislation", "New York S2005-B - Autonomous Vehicle Testing Program", "All motor vehicles", date(2023, 3, 15), "pending",
         "Proposes a statewide framework to allow regulated testing of autonomous vehicles on New York public roads. Would require permits, insurance, and data-sharing agreements with the DMV.",
         "https://www.nysenate.gov/legislation/bills/2023/S2005"),
        ("Massachusetts", "MA", "executive_order", "Massachusetts Executive Order 572 - AV Testing", "Passenger vehicles", date(2016, 10, 20), "enacted",
         "Issued an executive order enabling AV testing on Massachusetts roads through a partnership with the state DOT. Required testing entities to submit safety plans and report disengagements.",
         "https://www.mass.gov/executive-orders/no-572-executive-order-on-autonomous-vehicles"),
        ("Illinois", "IL", "legislation", "Illinois SB 2688 - Autonomous Vehicles Act", "Passenger vehicles", date(2023, 6, 1), "pending",
         "Proposes a regulatory framework for autonomous vehicles in Illinois. Would establish licensing, insurance, and data reporting requirements for companies operating AVs on public roads.",
         "https://www.ilga.gov/legislation/BillStatus.asp?DocNum=2688&GESSION=103"),
        ("Louisiana", "LA", "legislation", "Louisiana HB 455 - Autonomous Vehicles", "All motor vehicles", date(2019, 6, 11), "enacted",
         "Authorized the operation of autonomous vehicles on Louisiana roads. Established operational requirements and insurance mandates, and required registration of autonomous vehicle technology.",
         "https://legis.la.gov/legis/BillInfo.aspx?s=19RS&b=HB455"),
        ("Ohio", "OH", "executive_order", "Ohio Executive Order 2018-04K - DriveOhio", "All motor vehicles", date(2018, 1, 18), "enacted",
         "Created DriveOhio to serve as the hub for smart mobility and AV research in the state. Authorized the testing of autonomous vehicles on Ohio's public roads and established reporting standards.",
         "https://governor.ohio.gov/media/executive-orders/executive-order-2018-04k"),
        ("Washington", "WA", "legislation", "Washington SB 5460 - Autonomous Vehicle Pilot", "Passenger vehicles", date(2023, 4, 12), "pending",
         "Proposes pilot programs for autonomous vehicles on Washington State roads. Would require participating companies to submit safety assessment reports and carry minimum insurance.",
         "https://apps.leg.wa.gov/billsummary?BillNumber=5460&Year=2023"),
        ("Virginia", "VA", "legislation", "Virginia HB 2016 - Autonomous Vehicle Testing", "All motor vehicles", date(2020, 3, 12), "enacted",
         "Authorized the testing of autonomous vehicles on Virginia roadways. Required a licensed driver to be present in the vehicle or remotely monitoring and able to take control of the vehicle.",
         "https://lis.virginia.gov/cgi-bin/legp604.exe?201+sum+HB2016"),
        ("North Carolina", "NC", "legislation", "North Carolina HB 469 - Autonomous Vehicle Regulation", "Commercial vehicles", date(2023, 5, 20), "pending",
         "Proposes regulation of autonomous commercial vehicles in North Carolina. Would require special permits for autonomous trucks and establish weight and route restrictions.",
         "https://www.ncleg.gov/BillLookUp/2023/H469"),
        ("Indiana", "IN", "legislation", "Indiana SB 416 - Automated Driving Systems", "All motor vehicles", date(2022, 3, 10), "enacted",
         "Allowed operation of vehicles equipped with automated driving systems on Indiana roads. Required compliance with federal motor vehicle safety standards and established liability provisions.",
         "https://iga.in.gov/legislative/2022/bills/senate/416"),
        ("Minnesota", "MN", "legislation", "Minnesota HF 1234 - Autonomous Vehicle Task Force", "All motor vehicles", date(2023, 7, 1), "pending",
         "Proposes establishing a task force to study the impacts of autonomous vehicles on Minnesota infrastructure, employment, and public safety and to recommend a legislative framework.",
         "https://www.revisor.mn.gov/bills/bill.php?b=House&f=HF1234&ssn=0&y=2023"),
    ]
    db.add_all([Policy(jurisdiction=d[0], state_code=d[1], policy_type=d[2], title=d[3],
                        vehicle_class=d[4], date_enacted=d[5], status=d[6], summary=d[7],
                        source_url=d[8]) for d in data])
    db.commit()


# ------------------------------------------------------------------ #
#  DEPLOYMENTS  (placeholder - populated below)
# ------------------------------------------------------------------ #
def _seed_deployments(db):
    if db.query(Deployment).count() > 0:
        return
    # (operator, program_name, city, state, state_code, lat, lng, vehicle_type, domain, status, start_date, description, source_url)
    _dep = [
        ("Waymo", "Waymo One", "San Francisco", "California", "CA", 37.7749, -122.4194, "passenger", "Urban streets", "active", date(2021, 8, 1),
         "Fully autonomous ride-hail service operating in San Francisco. Serves most of the city with 24/7 driverless operations using Jaguar I-PACE vehicles.",
         "https://waymo.com/waymo-one-san-francisco"),
        ("Waymo", "Waymo One", "Phoenix", "Arizona", "AZ", 33.4484, -112.0740, "passenger", "Urban/suburban streets", "active", date(2020, 10, 1),
         "First commercial driverless ride-hail service in the US, operating across 180+ square miles in the Phoenix metro area including Chandler, Tempe, and Scottsdale.",
         "https://waymo.com/waymo-one-phoenix"),
        ("Waymo", "Waymo One", "Los Angeles", "California", "CA", 34.0522, -118.2437, "passenger", "Urban streets", "active", date(2023, 3, 1),
         "Expanding ride-hail operations in Los Angeles covering downtown, Hollywood, Westside, and Santa Monica. Uses Jaguar I-PACE fleet with no human driver.",
         "https://waymo.com/waymo-one-los-angeles"),
        ("Waymo", "Waymo One", "Austin", "Texas", "TX", 30.2672, -97.7431, "passenger", "Urban streets", "active", date(2024, 6, 1),
         "Launched ride-hail service in Austin, TX covering the downtown core and surrounding neighborhoods. Operates around the clock with Jaguar I-PACE vehicles.",
         "https://waymo.com/waymo-one-austin"),
        ("Waymo", "Waymo One", "Atlanta", "Georgia", "GA", 33.7490, -84.3880, "passenger", "Urban streets", "testing", date(2025, 1, 1),
         "Mapping and early testing in the Atlanta metro area in preparation for a commercial ride-hail launch. Waymo vehicles have been spotted across Midtown and Buckhead.",
         "https://waymo.com/waymo-one-atlanta"),
        ("Waymo", "Waymo Via", "Dallas", "Texas", "TX", 32.7767, -96.7970, "freight", "Highway corridors", "testing", date(2022, 5, 1),
         "Testing autonomous Class 8 trucks for freight delivery along the I-45 and I-20 corridors. Partnership with logistics companies for hub-to-hub operations.",
         "https://waymo.com/waymo-via"),
        ("Cruise", "Cruise Autonomous Ride-Hail", "San Francisco", "California", "CA", 37.7849, -122.4094, "passenger", "Urban streets", "suspended", date(2022, 2, 1),
         "Driverless ride-hail service in San Francisco, suspended in October 2023 following an incident. Previously operated Chevy Bolt EVs across the city.",
         "https://getcruise.com"),
        ("Cruise", "Cruise Autonomous Ride-Hail", "Phoenix", "Arizona", "AZ", 33.4584, -112.0640, "passenger", "Urban streets", "suspended", date(2022, 12, 1),
         "Expanded ride-hail operations into Phoenix metro area before nationwide suspension. Chevy Bolt fleet provided nighttime driverless service.",
         "https://getcruise.com/phoenix"),
        ("Cruise", "Cruise Autonomous Ride-Hail", "Houston", "Texas", "TX", 29.7604, -95.3698, "passenger", "Urban streets", "suspended", date(2023, 1, 1),
         "Driverless operations in Houston launched with limited nighttime service area before company-wide suspension of autonomous operations.",
         "https://getcruise.com/houston"),
        ("Cruise", "Cruise Autonomous Ride-Hail", "Dallas", "Texas", "TX", 32.7867, -96.7970, "passenger", "Urban streets", "suspended", date(2023, 3, 1),
         "Briefly operated driverless ride-hail service in Dallas before nationwide suspension of autonomous operations in late 2023.",
         "https://getcruise.com/dallas"),
        ("Aurora", "Aurora Horizon", "Dallas", "Texas", "TX", 32.8998, -96.6378, "freight", "Highway corridors", "active", date(2024, 4, 1),
         "Commercial autonomous trucking service running freight between Dallas and Houston on I-45. Uses Peterbilt 579 trucks equipped with Aurora Driver hardware.",
         "https://aurora.tech/aurora-horizon"),
        ("Aurora", "Aurora Horizon", "Houston", "Texas", "TX", 29.7504, -95.3598, "freight", "Highway corridors", "active", date(2024, 4, 1),
         "Southern terminus of the Dallas-Houston autonomous freight corridor. Loads transfer to human drivers for last-mile delivery at a terminal facility.",
         "https://aurora.tech/aurora-horizon"),
        ("Aurora", "Aurora Horizon", "El Paso", "Texas", "TX", 31.7619, -106.4850, "freight", "Highway corridors", "testing", date(2024, 9, 1),
         "Testing autonomous long-haul trucking on the I-10 corridor from El Paso to Dallas. Route expansion planned for cross-Texas freight operations.",
         "https://aurora.tech/aurora-horizon"),
        ("Aurora", "Aurora Connect", "Pittsburgh", "Pennsylvania", "PA", 40.4406, -79.9959, "passenger", "Urban streets", "testing", date(2023, 6, 1),
         "Testing autonomous ride-hail vehicles in Pittsburgh as part of the Aurora Connect platform. Focus on suburban and urban core routes.",
         "https://aurora.tech/aurora-connect"),
        ("Nuro", "Nuro Autonomous Delivery", "Houston", "Texas", "TX", 29.7504, -95.3698, "delivery", "Suburban streets", "active", date(2021, 3, 1),
         "Operating autonomous last-mile delivery vehicles in Houston suburbs. Partners with Kroger, FedEx, and Domino's for grocery and package delivery.",
         "https://nuro.ai/houston"),
        ("Nuro", "Nuro Autonomous Delivery", "Mountain View", "California", "CA", 37.3861, -122.0839, "delivery", "Suburban streets", "active", date(2020, 1, 1),
         "Headquarters-area autonomous delivery using R2 and R3 vehicles. Delivers groceries and meals to Mountain View and neighboring communities.",
         "https://nuro.ai/mountainview"),
        ("Nuro", "Nuro Autonomous Delivery", "Phoenix", "Arizona", "AZ", 33.5084, -112.0740, "delivery", "Suburban streets", "active", date(2022, 6, 1),
         "Autonomous delivery operations serving Scottsdale and north Phoenix. Partners with local restaurants and grocery chains for last-mile service.",
         "https://nuro.ai/phoenix"),
        ("Motional", "Motional Robotaxi", "Las Vegas", "Nevada", "NV", 36.1699, -115.1398, "passenger", "Urban streets", "active", date(2023, 11, 1),
         "Driverless ride-hail service in Las Vegas via the Lyft app. Hyundai IONIQ 5 vehicles serve the resort corridor and surrounding areas.",
         "https://motional.com/las-vegas"),
        ("Motional", "Motional Robotaxi", "Los Angeles", "California", "CA", 34.0622, -118.2537, "passenger", "Urban streets", "testing", date(2024, 1, 1),
         "Early-stage testing and mapping in Los Angeles for a planned ride-hail expansion. Vehicles operate with safety drivers while building high-definition maps.",
         "https://motional.com/los-angeles"),
        ("Motional", "Motional Robotaxi", "Boston", "Massachusetts", "MA", 42.3601, -71.0589, "passenger", "Urban streets", "testing", date(2024, 6, 1),
         "Testing autonomous vehicles on Boston streets in partnership with Hyundai. Collecting data in challenging winter driving conditions.",
         "https://motional.com/boston"),
        ("Zoox", "Zoox Robotaxi", "San Francisco", "California", "CA", 37.7649, -122.4294, "passenger", "Urban streets", "testing", date(2023, 2, 1),
         "Testing purpose-built bidirectional robotaxi vehicles in San Francisco. The Zoox vehicle has no steering wheel or pedals and carries up to four passengers.",
         "https://zoox.com/san-francisco"),
        ("Zoox", "Zoox Robotaxi", "Las Vegas", "Nevada", "NV", 36.1799, -115.1498, "passenger", "Urban streets", "testing", date(2023, 5, 1),
         "Testing autonomous robotaxi on the Las Vegas Strip and surrounding areas. The purpose-built vehicle navigates dense pedestrian and vehicle traffic.",
         "https://zoox.com/las-vegas"),
        ("Zoox", "Zoox Robotaxi", "Foster City", "California", "CA", 37.5585, -122.2711, "passenger", "Suburban streets", "testing", date(2022, 1, 1),
         "Headquarters-area testing and employee shuttle operations. Zoox vehicles transport employees between offices and local transit hubs.",
         "https://zoox.com/foster-city"),
        ("Gatik", "Gatik Autonomous B2B Delivery", "Bentonville", "Arkansas", "AR", 36.3729, -94.2088, "freight", "Urban/suburban streets", "active", date(2021, 8, 1),
         "Middle-mile autonomous delivery for Walmart between distribution centers and stores. Operates Class 3-6 box trucks on fixed routes.",
         "https://gatik.ai/bentonville"),
        ("Gatik", "Gatik Autonomous B2B Delivery", "Dallas", "Texas", "TX", 32.8767, -96.7970, "freight", "Urban/suburban streets", "active", date(2022, 9, 1),
         "Expanded autonomous middle-mile operations to the Dallas-Fort Worth metro serving Walmart, Loblaw, and KBX Logistics customers.",
         "https://gatik.ai/dallas"),
    ]
    deployments = [Deployment(operator=d[0], program_name=d[1], city=d[2], state=d[3],
                              state_code=d[4], latitude=d[5], longitude=d[6], vehicle_type=d[7],
                              operational_domain=d[8], status=d[9], start_date=d[10],
                              description=d[11], source_url=d[12]) for d in _dep]
    _dep2 = [
        ("Gatik", "Gatik Autonomous B2B Delivery", "Toronto", "Ontario", "ON", 43.6532, -79.3832, "freight", "Urban streets", "active", date(2023, 1, 1),
         "First international expansion with autonomous middle-mile delivery for Loblaw Companies. Operates box trucks between distribution centers and retail locations.",
         "https://gatik.ai/toronto"),
        ("Kodiak Robotics", "Kodiak Autonomous Trucking", "Dallas", "Texas", "TX", 32.9267, -96.8070, "freight", "Highway corridors", "active", date(2022, 6, 1),
         "Operating autonomous freight between Dallas and Oklahoma City on regular schedules. Uses Kodiak Driver-equipped trucks for hub-to-hub deliveries.",
         "https://kodiak.ai/dallas"),
        ("Kodiak Robotics", "Kodiak Autonomous Trucking", "Houston", "Texas", "TX", 29.7404, -95.3598, "freight", "Highway corridors", "testing", date(2023, 9, 1),
         "Expanding autonomous trucking operations to the Houston freight corridor. Testing on I-10 and I-45 routes connecting major distribution hubs.",
         "https://kodiak.ai/houston"),
        ("May Mobility", "May Mobility Shuttle", "Ann Arbor", "Michigan", "MI", 42.2808, -83.7430, "shuttle", "Urban streets", "active", date(2018, 6, 1),
         "One of the first autonomous shuttle deployments in the US, operating fixed routes in downtown Ann Arbor connecting residential and commercial areas.",
         "https://maymobility.com/ann-arbor"),
        ("May Mobility", "May Mobility Shuttle", "Grand Rapids", "Michigan", "MI", 42.9634, -85.6681, "shuttle", "Urban streets", "active", date(2019, 5, 1),
         "Free autonomous shuttle service in downtown Grand Rapids. Serves a loop connecting business district, hospitals, and transit stations.",
         "https://maymobility.com/grand-rapids"),
        ("May Mobility", "May Mobility Arlington", "Arlington", "Texas", "TX", 32.7357, -97.1081, "shuttle", "Urban streets", "active", date(2021, 10, 1),
         "On-demand autonomous vehicle service in Arlington's entertainment district. Provides rides between AT&T Stadium, Globe Life Field, and nearby attractions.",
         "https://maymobility.com/arlington"),
        ("May Mobility", "May Mobility Sun City", "Sun City", "Arizona", "AZ", 33.5977, -112.2712, "shuttle", "Suburban streets", "active", date(2022, 4, 1),
         "Autonomous shuttle service for senior residents in the Sun City retirement community. Provides on-demand transportation to medical facilities and shopping centers.",
         "https://maymobility.com/sun-city"),
        ("Beep", "Beep Autonomous Shuttle", "Lake Nona", "Florida", "FL", 28.3697, -81.2849, "shuttle", "Campus/suburban", "active", date(2019, 2, 1),
         "Autonomous shuttle connecting residential areas with the Lake Nona Town Center and medical facilities. One of the longest-running US autonomous shuttle deployments.",
         "https://ridebeep.com/lake-nona"),
        ("Beep", "Beep Autonomous Shuttle", "Peachtree Corners", "Georgia", "GA", 33.9701, -84.2199, "shuttle", "Campus/suburban", "active", date(2020, 11, 1),
         "Operating at Curiosity Lab at Peachtree Corners, a real-world autonomous vehicle testing environment. Provides rides along the Technology Parkway corridor.",
         "https://ridebeep.com/peachtree-corners"),
        ("Beep", "Beep Autonomous Shuttle", "Jacksonville", "Florida", "FL", 30.3322, -81.6557, "shuttle", "Urban streets", "active", date(2021, 7, 1),
         "Autonomous shuttle service in Jacksonville's Bay Street Innovation Corridor connecting the convention center, sports venues, and downtown businesses.",
         "https://ridebeep.com/jacksonville"),
        ("TuSimple", "TuSimple Autonomous Trucking", "Tucson", "Arizona", "AZ", 32.2226, -110.9747, "freight", "Highway corridors", "suspended", date(2021, 1, 1),
         "Headquarters-based autonomous trucking operations on I-10 between Tucson and Phoenix. Operations suspended amid corporate restructuring.",
         "https://tusimple.com/tucson"),
        ("TuSimple", "TuSimple Autonomous Trucking", "Phoenix", "Arizona", "AZ", 33.4384, -112.0640, "freight", "Highway corridors", "suspended", date(2021, 6, 1),
         "Long-haul autonomous trucking terminal in Phoenix. Previously operated freight routes to Dallas and El Paso before company-wide suspension.",
         "https://tusimple.com/phoenix"),
        ("Optimus Ride", "Optimus Ride Shuttle", "Boston", "Massachusetts", "MA", 42.3501, -71.0589, "shuttle", "Campus/suburban", "completed", date(2019, 6, 1),
         "Operated autonomous shuttle service in the Boston Seaport District. Served as a first/last mile connector between residential developments and the MBTA.",
         "https://optimusride.com/boston"),
        ("Optimus Ride", "Optimus Ride Shuttle", "New York City", "New York", "NY", 40.7128, -74.0060, "shuttle", "Campus/suburban", "completed", date(2019, 8, 1),
         "Autonomous shuttle at the Brooklyn Navy Yard connecting the industrial park with public transit. Operated a fixed route with up to six passengers.",
         "https://optimusride.com/new-york"),
        ("Optimus Ride", "Optimus Ride Shuttle", "Washington", "District of Columbia", "DC", 38.9072, -77.0369, "shuttle", "Campus/suburban", "completed", date(2020, 3, 1),
         "Short-lived autonomous shuttle at The Wharf development on the Southwest Waterfront. Connected residential buildings with Metro stations.",
         "https://optimusride.com/dc"),
        ("EasyMile", "EasyMile Autonomous Shuttle", "Denver", "Colorado", "CO", 39.7392, -104.9903, "shuttle", "Campus/suburban", "completed", date(2019, 1, 1),
         "Autonomous shuttle pilot at the Panasonic CityNOW campus in north Denver. Transported employees between buildings on fixed routes.",
         "https://easymile.com/denver"),
        ("EasyMile", "EasyMile Autonomous Shuttle", "Jacksonville", "Florida", "FL", 30.3422, -81.6457, "shuttle", "Campus/suburban", "active", date(2021, 3, 1),
         "Operating autonomous shuttles at the Jacksonville Transportation Authority's test track and expanding to public routes in the urban core.",
         "https://easymile.com/jacksonville"),
        ("Pony.ai", "Pony.ai Robotaxi", "Fremont", "California", "CA", 37.5485, -121.9886, "passenger", "Urban/suburban streets", "testing", date(2022, 4, 1),
         "Testing autonomous ride-hail vehicles in the Fremont area. Operates with safety drivers while building out driverless capabilities.",
         "https://pony.ai/fremont"),
        ("Pony.ai", "Pony.ai Robotaxi", "Irvine", "California", "CA", 33.6846, -117.8265, "passenger", "Suburban streets", "testing", date(2022, 7, 1),
         "Autonomous ride-hail testing in the planned community of Irvine. Focuses on suburban driving scenarios and mixed-use environments.",
         "https://pony.ai/irvine"),
        ("WeRide", "WeRide Robotaxi", "San Jose", "California", "CA", 37.3382, -121.8863, "passenger", "Urban streets", "testing", date(2023, 1, 1),
         "Chinese AV company testing ride-hail vehicles in San Jose as part of its US expansion. Holds a California DMV autonomous testing permit.",
         "https://weride.ai/san-jose"),
        ("Torc Robotics", "Torc Autonomous Trucking", "Albuquerque", "New Mexico", "NM", 35.0844, -106.6504, "freight", "Highway corridors", "testing", date(2022, 3, 1),
         "Testing autonomous trucking technology on the I-25 and I-40 corridors. Daimler Truck subsidiary focused on hub-to-hub freight operations.",
         "https://torc.ai/albuquerque"),
        ("Torc Robotics", "Torc Autonomous Trucking", "Dallas", "Texas", "TX", 32.8467, -96.8170, "freight", "Highway corridors", "testing", date(2023, 6, 1),
         "Expanding autonomous trucking testing to the Dallas-Fort Worth freight hub. Operations focus on the I-35 and I-20 corridors connecting major distribution centers.",
         "https://torc.ai/dallas"),
        ("Navya", "Navya Autonomous Shuttle", "Las Vegas", "Nevada", "NV", 36.1699, -115.1598, "shuttle", "Urban streets", "completed", date(2017, 11, 1),
         "One of the first autonomous shuttle demonstrations in the US, operated in downtown Las Vegas Fremont East district. The Navya Arma shuttle ran a short fixed route.",
         "https://navya.tech/las-vegas"),
        ("Plus.ai", "Plus.ai PlusDrive", "multiple", "California", "CA", 37.3661, -121.9286, "freight", "Highway corridors", "testing", date(2022, 8, 1),
         "Testing Level 4 autonomous trucking system on California and western US highways. Focused on retrofit solutions for existing Class 8 truck fleets.",
         "https://plus.ai"),
        ("Local Motors", "Olli Autonomous Shuttle", "National Harbor", "Maryland", "MD", 38.7849, -77.0147, "shuttle", "Campus/suburban", "completed", date(2016, 6, 1),
         "Pioneered 3D-printed autonomous shuttle Olli at National Harbor. Operated a low-speed demonstration route connecting hotels and retail areas.",
         "https://localmotors.com/olli"),
    ]
    deployments.extend([Deployment(operator=d[0], program_name=d[1], city=d[2], state=d[3],
                                   state_code=d[4], latitude=d[5], longitude=d[6], vehicle_type=d[7],
                                   operational_domain=d[8], status=d[9], start_date=d[10],
                                   description=d[11], source_url=d[12]) for d in _dep2])
    _dep3 = [
        ("Local Motors", "Olli Autonomous Shuttle", "Knoxville", "Tennessee", "TN", 35.9606, -83.9207, "shuttle", "Campus/suburban", "completed", date(2018, 3, 1),
         "Autonomous shuttle demonstration at the University of Tennessee campus. Provided rides to students along a campus loop route.",
         "https://localmotors.com/olli-knoxville"),
        ("Argo AI", "Argo Autonomous Vehicles", "Pittsburgh", "Pennsylvania", "PA", 40.4506, -79.9859, "passenger", "Urban streets", "completed", date(2020, 1, 1),
         "Tested autonomous vehicles on Pittsburgh streets before the company shut down in 2022. Operated a fleet of Ford Fusion Hybrids with safety drivers.",
         "https://argo.ai/pittsburgh"),
        ("Argo AI", "Argo Autonomous Vehicles", "Miami", "Florida", "FL", 25.7617, -80.1918, "passenger", "Urban streets", "completed", date(2020, 6, 1),
         "Tested autonomous vehicles in Miami's urban core including Brickell and Wynwood districts. Company ceased operations in 2022.",
         "https://argo.ai/miami"),
        ("Argo AI", "Argo Autonomous Vehicles", "Austin", "Texas", "TX", 30.2772, -97.7531, "passenger", "Urban streets", "completed", date(2021, 3, 1),
         "Expanded testing to Austin with a focus on complex urban intersections and highway merging. Company shut down operations in late 2022.",
         "https://argo.ai/austin"),
        ("Argo AI", "Argo Autonomous Vehicles", "Detroit", "Michigan", "MI", 42.3314, -83.0458, "passenger", "Urban streets", "completed", date(2021, 6, 1),
         "Operated test vehicles in Detroit focusing on Ford's hometown market. Tested in diverse weather conditions including Michigan winters.",
         "https://argo.ai/detroit"),
        ("Embark", "Embark Autonomous Trucking", "Los Angeles", "California", "CA", 34.0122, -118.2037, "freight", "Highway corridors", "completed", date(2021, 1, 1),
         "Operated autonomous freight on the I-10 corridor between Los Angeles and Phoenix. Company wound down operations in 2023.",
         "https://embark.com/la"),
        ("Embark", "Embark Autonomous Trucking", "Phoenix", "Arizona", "AZ", 33.4284, -112.0540, "freight", "Highway corridors", "completed", date(2021, 6, 1),
         "Eastern terminus of the LA-Phoenix autonomous trucking route. Tested transfer hub operations before company wind-down.",
         "https://embark.com/phoenix"),
        ("Waymo", "Waymo One", "Miami", "Florida", "FL", 25.7717, -80.1918, "passenger", "Urban streets", "testing", date(2025, 3, 1),
         "Mapping and early testing in Miami-Dade County for planned ride-hail launch. Waymo vehicles are collecting data in the Miami metro area.",
         "https://waymo.com/waymo-one-miami"),
        ("Cruise", "Cruise Autonomous Ride-Hail", "Austin", "Texas", "TX", 30.2672, -97.7331, "passenger", "Urban streets", "suspended", date(2023, 4, 1),
         "Briefly tested in Austin before company-wide suspension of autonomous operations. Planned for driverless ride-hail expansion.",
         "https://getcruise.com/austin"),
        ("Cruise", "Cruise Autonomous Ride-Hail", "Miami", "Florida", "FL", 25.7517, -80.1818, "passenger", "Urban streets", "suspended", date(2023, 6, 1),
         "Testing in Miami with safety operators prior to planned commercial launch. Operations suspended company-wide in late 2023.",
         "https://getcruise.com/miami"),
        ("Nuro", "Nuro Autonomous Delivery", "Menlo Park", "California", "CA", 37.4530, -122.1817, "delivery", "Suburban streets", "testing", date(2024, 1, 1),
         "Testing next-generation R3 delivery vehicle in Menlo Park for grocery and pharmacy deliveries in residential neighborhoods.",
         "https://nuro.ai/menlo-park"),
        ("Waymo", "Waymo Freight", "Phoenix", "Arizona", "AZ", 33.4184, -112.0240, "freight", "Highway corridors", "testing", date(2024, 1, 1),
         "Testing autonomous Class 8 trucks on Arizona highways for long-haul freight. Focus on I-10 corridor between Phoenix and Tucson.",
         "https://waymo.com/waymo-via-phoenix"),
        ("Serve Robotics", "Serve Delivery Robot", "Los Angeles", "California", "CA", 34.0422, -118.2337, "delivery", "Urban sidewalks", "active", date(2022, 5, 1),
         "Sidewalk delivery robots operating in West Hollywood and surrounding neighborhoods. Partners with Uber Eats for restaurant food delivery.",
         "https://serverobotics.com"),
        ("Serve Robotics", "Serve Delivery Robot", "San Francisco", "California", "CA", 37.7849, -122.4094, "delivery", "Urban sidewalks", "active", date(2023, 9, 1),
         "Expanded sidewalk delivery operations to San Francisco neighborhoods. Small autonomous robots deliver food and packages.",
         "https://serverobotics.com/sf"),
        ("Coco", "Coco Delivery Robot", "Los Angeles", "California", "CA", 34.0322, -118.2437, "delivery", "Urban sidewalks", "active", date(2021, 9, 1),
         "Remote-operated and semi-autonomous delivery robots for restaurant food delivery across Los Angeles. Serves hundreds of restaurants.",
         "https://www.cocodelivery.com"),
        ("Starship Technologies", "Starship Delivery", "multiple", "Virginia", "VA", 38.8300, -77.3100, "delivery", "Campus/suburban sidewalks", "active", date(2019, 1, 1),
         "Autonomous delivery robots operating on college campuses and suburban neighborhoods. Serves George Mason University, Purdue, and 20+ other campuses.",
         "https://starship.xyz"),
        ("Waymo", "Waymo One", "San Mateo County", "California", "CA", 37.5630, -122.3225, "passenger", "Suburban streets", "testing", date(2024, 8, 1),
         "Extended service area into the Peninsula south of San Francisco covering Daly City, South San Francisco, and San Mateo.",
         "https://waymo.com/waymo-one-peninsula"),
        ("Mobileye", "Mobileye Drive", "Detroit", "Michigan", "MI", 42.3414, -83.0558, "passenger", "Urban streets", "testing", date(2024, 3, 1),
         "Testing autonomous ride-hail technology with the Mobileye Drive platform. Partnership with Volkswagen for commercial deployment.",
         "https://mobileye.com/detroit"),
        ("Mobileye", "Mobileye Drive", "New York City", "New York", "NY", 40.7228, -74.0160, "passenger", "Urban streets", "testing", date(2024, 6, 1),
         "Began testing autonomous vehicles on Manhattan streets as part of NYDMV pilot program. Operating with safety drivers in dense urban traffic.",
         "https://mobileye.com/nyc"),
        ("Phantom Auto", "Phantom Teleoperation", "San Jose", "California", "CA", 37.3482, -121.8963, "freight", "Warehouse/port", "active", date(2022, 11, 1),
         "Remote operation platform for forklifts and yard trucks at warehouse and port facilities. Combines autonomy with remote human oversight.",
         "https://phantom.auto"),
        ("Perceptive Automata", "Pedestrian Intent Detection", "Boston", "Massachusetts", "MA", 42.3601, -71.0689, "passenger", "Urban streets", "testing", date(2023, 4, 1),
         "AI-based pedestrian intent prediction system being tested with AV partner companies in the greater Boston area.",
         "https://perceptiveautomata.com"),
        ("Isee", "Isee Autonomous Trucking", "Cambridge", "Massachusetts", "MA", 42.3736, -71.1097, "freight", "Port/yard", "testing", date(2022, 7, 1),
         "Developing autonomous yard truck technology for port and logistics facilities. Testing at Boston-area distribution centers.",
         "https://isee.ai"),
        ("Waabi", "Waabi Driver", "Dallas", "Texas", "TX", 32.8167, -96.7770, "freight", "Highway corridors", "testing", date(2024, 5, 1),
         "AI-first autonomous trucking startup testing on Texas highways. Uses generative AI and simulation-first development approach.",
         "https://waabi.ai"),
        ("Pronto", "Pronto Copilot", "San Francisco", "California", "CA", 37.7549, -122.4194, "freight", "Highway corridors", "completed", date(2019, 12, 1),
         "Completed a coast-to-coast autonomous trucking demonstration from San Francisco to New York using Pronto Copilot ADAS technology.",
         "https://pronto.ai"),
        ("Oxa", "Oxa Autonomous Shuttle", "Jacksonville", "Florida", "FL", 30.3222, -81.6357, "shuttle", "Urban streets", "testing", date(2024, 2, 1),
         "UK-based autonomy company testing shuttle and delivery vehicles in Jacksonville as part of the city's smart city initiative.",
         "https://oxa.tech/jacksonville"),
    ]
    deployments.extend([Deployment(operator=d[0], program_name=d[1], city=d[2], state=d[3],
                                   state_code=d[4], latitude=d[5], longitude=d[6], vehicle_type=d[7],
                                   operational_domain=d[8], status=d[9], start_date=d[10],
                                   description=d[11], source_url=d[12]) for d in _dep3])
    db.add_all(deployments)
    db.commit()


# ------------------------------------------------------------------ #
#  FUNDING PROGRAMS  (placeholder - populated below)
# ------------------------------------------------------------------ #
def _seed_funding(db):
    if db.query(FundingProgram).count() > 0:
        return
    # (program_name, agency, funding_type, total_funding, award_range, app_deadline, date_enacted, date_closed, eligibility, description, av_relevance, status, source_url)
    _fun = [
        ("ADS Demonstration Grants Program", "USDOT/NHTSA", "Grant", "60000000", "$5M-$10M per award", date(2024, 3, 15), date(2023, 11, 1), None,
         "State and local governments, transit agencies", "Funds demonstration projects for automated driving systems in real-world conditions to assess safety, mobility, and accessibility benefits.",
         "Directly funds AV pilots and deployments", "active", "https://www.transportation.gov/av/grants"),
        ("SMART Grants Program", "USDOT", "Grant", "500000000", "$2M-$15M per award", date(2024, 5, 1), date(2022, 11, 15), None,
         "State, local, and tribal governments", "Strengthening Mobility and Revolutionizing Transportation grants to fund smart city technology demonstrations including connected and automated vehicles.",
         "Funds smart transportation including AV technology", "active", "https://www.transportation.gov/grants/SMART"),
        ("Safe Streets and Roads for All (SS4A)", "USDOT/FHWA", "Grant", "5000000000", "$200K-$25M per award", date(2024, 8, 29), date(2022, 9, 15), None,
         "Metropolitan planning organizations, local governments", "Supports Vision Zero strategies including deployment of advanced safety technologies and infrastructure upgrades that benefit AV operations.",
         "Funds safety infrastructure compatible with AV operations", "active", "https://www.transportation.gov/grants/SS4A"),
        ("RAISE Discretionary Grants", "USDOT", "Grant", "2275000000", "$5M-$25M per award", date(2024, 4, 15), date(2022, 2, 28), None,
         "State and local governments, transit agencies, tribal governments", "Rebuilding American Infrastructure with Sustainability and Equity grants funding surface transportation projects of regional significance.",
         "Supports infrastructure upgrades that enable AV deployment", "active", "https://www.transportation.gov/RAISEgrants"),
        ("Advanced Transportation and Congestion Management Technologies (ATCMTD)", "FHWA", "Grant", "60000000", "$3M-$12M per award", None, date(2020, 3, 1), date(2023, 9, 30),
         "State and local governments, transit agencies", "Funded deployment of advanced transportation technologies to improve safety, efficiency, and reduce congestion including V2X and automation.",
         "Funded connected vehicle and AV-supportive technology pilots", "closed", "https://www.fhwa.dot.gov/fastact/factsheets/advtranscongmgmtfs.cfm"),
        ("Automated Driving System Demonstration Grant (ADDS)", "NHTSA", "Grant", "30000000", "$3M-$8M per award", None, date(2022, 6, 1), date(2023, 12, 31),
         "State DOTs, research institutions, AV companies", "Demonstration grants specifically for Level 4 and Level 5 automated driving systems in diverse operational environments.",
         "Directly funds AV demonstrations and safety research", "closed", "https://nhtsa.gov/ads-demonstration"),
        ("FTA Accelerating Innovative Mobility (AIM)", "FTA", "Grant", "10800000", "$250K-$1.5M per award", None, date(2022, 1, 1), date(2023, 3, 31),
         "Transit agencies, state DOTs", "Accelerating Innovative Mobility initiative funding transit agencies to pilot automation, mobility-on-demand, and emerging transit technologies.",
         "Directly funds transit automation pilots", "closed", "https://www.transit.dot.gov/AIM"),
        ("National Science Foundation NRI-3.0", "NSF", "Research Grant", "35000000", "$500K-$3M per award", date(2025, 2, 15), date(2023, 9, 1), None,
         "Universities, research institutions", "National Robotics Initiative 3.0 funding research in ubiquitous collaborative robots including autonomous vehicles and transportation robotics.",
         "Funds fundamental AV and robotics research", "active", "https://www.nsf.gov/funding/pgm_summ.jsp?pims_id=505837"),
        ("California Clean Transportation Program", "California Energy Commission", "Grant", "100000000", "$500K-$6M per award", date(2024, 7, 1), date(2022, 4, 1), None,
         "CA-based businesses, research institutions, local governments", "Funds zero-emission vehicle and transportation technology development including autonomous electric vehicle projects.",
         "Supports autonomous EV development and deployment", "active", "https://www.energy.ca.gov/programs-and-topics/programs/clean-transportation-program"),
        ("Michigan Mobility Funding Platform", "Michigan DOT", "Grant", "25000000", "$100K-$5M per award", None, date(2021, 7, 1), None,
         "MI-based businesses, research institutions", "State funding for connected and autonomous vehicle research, testing infrastructure, and pilot deployments across Michigan.",
         "Directly funds AV testing and deployment in Michigan", "active", "https://www.michigan.gov/mdot/programs/planning/mobility"),
        ("Texas Connected & Autonomous Vehicle Task Force Fund", "TxDOT", "Grant", "15000000", "$200K-$3M per award", None, date(2022, 1, 1), None,
         "TX state and local agencies, universities", "Funds pilot projects and research related to connected and autonomous vehicles on Texas roadways.",
         "Directly funds AV pilots on Texas roads", "active", "https://www.txdot.gov/about/programs/innovation/cav.html"),
        ("Florida Automated Vehicles Program", "Florida DOT", "Grant", "8000000", "$100K-$2M per award", None, date(2020, 6, 1), None,
         "FL state and local agencies, transit operators", "Supports autonomous vehicle testing and deployment across Florida including shuttle pilots, freight automation, and safety research.",
         "Directly funds AV deployment in Florida", "active", "https://www.fdot.gov/traffic/its/projects-deployed/cv/automated-vehicles"),
        ("Arizona Institute for Automated Mobility", "Arizona DOT", "Grant", "12000000", "$50K-$2M per award", None, date(2019, 7, 1), None,
         "AZ institutions and municipalities", "Public-private partnership funding AV testing, data collection, and workforce development at the Maricopa County AV proving ground.",
         "Funds AV testing infrastructure and research", "active", "https://azdot.gov/planning/transportation-programs/automated-mobility"),
        ("Ohio DriveOhio Grants", "Ohio DOT", "Grant", "10000000", "$100K-$2M per award", None, date(2018, 6, 1), None,
         "OH state and local agencies, universities", "Grants through the DriveOhio initiative to fund connected and automated vehicle testing and deployment projects.",
         "Directly funds CAV testing and deployment in Ohio", "active", "https://drive.ohio.gov/grants"),
        ("Pennsylvania Autonomous Vehicle Testing Grant", "PennDOT", "Grant", "5000000", "$100K-$1M per award", None, date(2021, 9, 1), date(2024, 6, 30),
         "PA-based research institutions and companies", "Funded autonomous vehicle technology testing on Pennsylvania roads, focusing on the Pittsburgh corridor.",
         "Funded AV testing in Pennsylvania", "closed", "https://penndot.pa.gov/ProjectAndPrograms/Pages/Automated-Vehicles.aspx"),
        ("DOE Vehicle Technologies Office", "Department of Energy", "Research Grant", "120000000", "$500K-$5M per award", date(2025, 3, 1), date(2020, 1, 1), None,
         "National labs, universities, companies", "Funds research in energy-efficient mobility including autonomous vehicle energy optimization, connected eco-driving, and EV automation.",
         "Funds energy-efficient AV technology research", "active", "https://www.energy.gov/eere/vehicles"),
        ("Infrastructure Investment and Jobs Act - AV Provisions", "US Congress", "Formula/Competitive", "7500000000", "Various", None, date(2021, 11, 15), None,
         "State DOTs, transit agencies, local governments", "The bipartisan infrastructure law includes multiple provisions supporting AV-ready infrastructure, V2X deployment, and intelligent transportation systems.",
         "Major federal funding source for AV-supportive infrastructure", "active", "https://www.congress.gov/bill/117th-congress/house-bill/3684"),
        ("Intelligent Transportation Systems Joint Program Office", "USDOT/ITS JPO", "Research/Deployment", "100000000", "$500K-$10M per award", None, date(2020, 1, 1), None,
         "Federal, state, local agencies and research institutions", "Coordinates ITS research and deployment including connected and automated vehicle technologies, V2X communications, and cybersecurity.",
         "Central coordination of AV-related ITS research", "active", "https://www.its.dot.gov"),
        ("FHWA Every Day Counts (EDC) - AV Readiness", "FHWA", "Technical Assistance", "15000000", "N/A", None, date(2023, 1, 1), None,
         "State and local DOTs", "Technical assistance program helping state and local agencies prepare infrastructure for automated vehicles through digital infrastructure upgrades.",
         "Prepares road infrastructure for AV deployment", "active", "https://www.fhwa.dot.gov/innovation/everydaycounts"),
        ("Virginia Connected and Automated Vehicle Program", "Virginia DOT", "Grant", "8000000", "$100K-$1.5M per award", None, date(2020, 3, 1), None,
         "VA state and local agencies, universities", "Funds CAV testing and deployment projects on Virginia roads including the Virginia Automated Corridors initiative.",
         "Funds AV testing and deployment in Virginia", "active", "https://virginiaautomatedcorridors.org"),
        ("Securing America's Future Energy (SAFE) AV Policy Fund", "SAFE", "Policy Research", "3000000", "$50K-$500K per award", None, date(2021, 1, 1), None,
         "Think tanks, policy research organizations", "Private foundation funding policy research and analysis on autonomous vehicle regulation, energy impacts, and economic competitiveness.",
         "Funds AV policy research and advocacy", "active", "https://secureenergy.org/av-policy"),
        ("Colorado Smart Mobility Plan Grants", "Colorado DOT", "Grant", "6000000", "$50K-$1M per award", None, date(2022, 7, 1), None,
         "CO municipalities and regional planning orgs", "Funds smart mobility projects including autonomous shuttle pilots, connected vehicle infrastructure, and mobility-as-a-service platforms.",
         "Supports AV shuttle and connected vehicle pilots", "active", "https://codot.gov/programs/innovativemobility"),
        ("Georgia AV Testing Program Fund", "Georgia DOT", "Grant", "4000000", "$50K-$750K per award", None, date(2021, 4, 1), None,
         "GA universities, cities, and technology companies", "State funding supporting AV testing at Curiosity Lab in Peachtree Corners and other designated testing areas in Georgia.",
         "Funds AV testing facilities and pilots in Georgia", "active", "https://gadot.gov/programs/autonomous-vehicles"),
        ("North Carolina Turnpike Authority AV Readiness", "NCDOT", "Infrastructure", "10000000", "$500K-$3M per project", None, date(2023, 3, 1), None,
         "NC state and local agencies", "Funding for infrastructure improvements along NC turnpike corridors to support future autonomous vehicle operations including V2X equipment.",
         "Prepares NC highway infrastructure for AVs", "active", "https://ncdot.gov/projects/turnpike/av-readiness"),
        ("National Highway Traffic Safety Administration AV Research", "NHTSA", "Research", "40000000", "$200K-$3M per award", None, date(2022, 1, 1), None,
         "Research institutions, test facilities", "Ongoing research program studying AV safety performance, crash avoidance technologies, and developing federal motor vehicle safety standards for AVs.",
         "Core federal AV safety research program", "active", "https://nhtsa.gov/technology-innovation/automated-vehicles-safety"),
    ]
    programs = [FundingProgram(program_name=d[0], agency=d[1], funding_type=d[2], total_funding=d[3],
                               award_range=d[4], application_deadline=d[5], date_enacted=d[6],
                               date_closed=d[7], eligibility=d[8], description=d[9],
                               av_relevance=d[10], status=d[11], source_url=d[12]) for d in _fun]
    _fun2 = [
        ("Washington State AV Pilot Fund", "Washington DOT", "Grant", "5000000", "$100K-$1M per award", None, date(2023, 7, 1), None,
         "WA cities, transit agencies, ports", "Supports autonomous vehicle pilot projects across Washington State, with emphasis on rural mobility and freight automation.",
         "Funds AV pilots in Washington State", "active", "https://wsdot.wa.gov/planning/cav"),
        ("Massachusetts AV Testing Program", "MassDOT", "Grant", "3000000", "$50K-$500K per award", None, date(2020, 9, 1), None,
         "MA municipalities and research institutions", "Funds managed by MassDOT to support AV testing and safety evaluation programs on Massachusetts roads.",
         "Supports AV testing in Massachusetts", "active", "https://mass.gov/autonomous-vehicles"),
        ("Utah AV Innovation Fund", "Utah DOT", "Grant", "4500000", "$50K-$750K per award", None, date(2023, 1, 1), None,
         "UT municipalities, universities", "State-funded initiative to support autonomous vehicle innovation and testing in Utah, including the I-15 connected corridor.",
         "Funds AV testing and connected corridors in Utah", "active", "https://udot.utah.gov/innovation/av"),
        ("FTA Low or No Emission Vehicle Program", "FTA", "Grant", "1700000000", "$500K-$25M per award", date(2025, 5, 1), date(2022, 4, 1), None,
         "Transit agencies, state DOTs", "Funds purchase and deployment of zero-emission transit vehicles, including autonomous electric shuttle buses and transit technology.",
         "Supports autonomous electric transit vehicles", "active", "https://www.transit.dot.gov/lowno"),
        ("Tennessee Smart Mobility Initiative", "Tennessee DOT", "Grant", "3500000", "$50K-$500K per award", None, date(2022, 8, 1), None,
         "TN cities, universities, technology companies", "Funds smart mobility and AV pilot projects in Tennessee, with a focus on freight automation on I-24 and I-40.",
         "Supports AV freight testing in Tennessee", "active", "https://tn.gov/tdot/smart-mobility"),
        ("New Jersey Autonomous Vehicle Testing Fund", "NJ Motor Vehicle Commission", "Grant", "2000000", "$50K-$400K per award", None, date(2023, 6, 1), None,
         "NJ-based companies, universities", "Newly created state fund supporting autonomous vehicle research and testing programs on New Jersey roads.",
         "Funds AV testing in New Jersey", "active", "https://nj.gov/mvc/autonomous-vehicles"),
        ("DARPA Robotic Autonomy in Complex Environments (RACE)", "DARPA", "Research Grant", "50000000", "$1M-$5M per award", None, date(2023, 4, 1), None,
         "Defense contractors, universities, research labs", "Advancing autonomous vehicle capabilities in complex, off-road, and urban environments for military and dual-use applications.",
         "Funds advanced AV autonomy research", "active", "https://darpa.mil/program/race"),
        ("AAA Foundation for Traffic Safety AV Research", "AAA Foundation", "Research Grant", "5000000", "$50K-$500K per study", None, date(2020, 1, 1), None,
         "Universities, research organizations", "Ongoing research program studying public acceptance, safety impacts, and human factors of autonomous vehicle technology.",
         "Funds AV safety and human factors research", "active", "https://aaafoundation.org/av-research"),
        ("Minnesota Connected and Automated Vehicle Challenge", "Minnesota DOT", "Competition/Grant", "2500000", "$50K-$250K per award", None, date(2023, 9, 1), None,
         "MN-based innovators and municipalities", "Competitive grants for innovative connected and automated vehicle applications addressing rural mobility and winter driving challenges.",
         "Funds CAV innovation in Minnesota", "active", "https://dot.state.mn.us/cav"),
        ("New York AV Pilot Program Fund", "NYSDMV", "Permit/Grant", "1000000", "$25K-$200K per permit", None, date(2024, 1, 1), None,
         "AV companies with NY testing permits", "Supports the state's AV testing pilot program by providing funding for safety evaluation, data collection, and public engagement.",
         "Funds AV testing program in New York", "active", "https://dmv.ny.gov/autonomous-vehicles"),
        ("USDOT Cooperative Driving Automation Program", "USDOT/FHWA", "Research", "50000000", "$500K-$5M per award", None, date(2023, 10, 1), None,
         "State DOTs, research institutions, AV companies", "Research program advancing cooperative driving automation where vehicles communicate with each other and infrastructure for coordinated operations.",
         "Funds V2V and V2I cooperative automation research", "active", "https://www.transportation.gov/av/cooperative"),
        ("Illinois Autonomous Vehicle Task Force Fund", "Illinois DOT", "Study/Planning", "1500000", "N/A", None, date(2023, 8, 1), None,
         "State agencies, advisory committee", "Funds the work of the Illinois AV Task Force in studying regulatory frameworks, safety standards, and infrastructure needs for AV deployment.",
         "Funds AV policy development in Illinois", "active", "https://idot.illinois.gov/transportation-system/transportation-management/automated-vehicles"),
        ("Oregon Automated Vehicle Testing Permit Program", "Oregon DMV", "Permit/Grant", "1000000", "$25K-$150K per permit", None, date(2022, 5, 1), None,
         "AV companies with OR testing permits", "Supports AV testing permit applications and provides matching funds for safety evaluation and data sharing requirements.",
         "Funds AV testing in Oregon", "active", "https://oregon.gov/odot/programs/pages/automated-vehicles.aspx"),
        ("Louisiana Innovation Fund - AV Mobility", "Louisiana DOTD", "Grant", "2000000", "$50K-$300K per award", None, date(2023, 2, 1), None,
         "LA parishes, universities, transit agencies", "State innovation fund supporting autonomous transit, delivery, and mobility projects in Louisiana communities.",
         "Funds AV mobility projects in Louisiana", "active", "https://dotd.la.gov/innovation"),
        ("Indiana Automated Vehicle Research Fund", "Indiana DOT", "Research Grant", "3000000", "$50K-$500K per award", None, date(2022, 9, 1), None,
         "IN universities and research institutions", "Funds academic research on autonomous vehicle technology, safety, regulation, and economic impacts in Indiana.",
         "Funds AV research in Indiana", "active", "https://in.gov/indot/automated-vehicles"),
        ("FTA Transit Automation Research Program", "FTA", "Research", "8000000", "$200K-$2M per award", None, date(2024, 1, 1), None,
         "Transit agencies, research institutions", "New research program specifically studying the application of automation technology in public transit operations.",
         "Directly funds transit automation R&D", "active", "https://transit.dot.gov/research-innovation/automation"),
        ("NCHRP Autonomous Vehicle Infrastructure Readiness", "TRB/NCHRP", "Research", "4000000", "$100K-$500K per project", None, date(2021, 3, 1), None,
         "Research institutions, engineering firms", "National Cooperative Highway Research Program projects studying infrastructure modifications needed to support autonomous vehicles.",
         "Funds research on AV-ready infrastructure", "active", "https://www.trb.org/NCHRP/NCHRPOverview.aspx"),
    ]
    programs.extend([FundingProgram(program_name=d[0], agency=d[1], funding_type=d[2], total_funding=d[3],
                                    award_range=d[4], application_deadline=d[5], date_enacted=d[6],
                                    date_closed=d[7], eligibility=d[8], description=d[9],
                                    av_relevance=d[10], status=d[11], source_url=d[12]) for d in _fun2])
    db.add_all(programs)
    db.commit()


# ------------------------------------------------------------------ #
#  SAFETY INCIDENTS  (placeholder - populated below)
# ------------------------------------------------------------------ #
def _seed_incidents(db):
    if db.query(SafetyIncident).count() > 0:
        return
    # Programmatically generate 500+ incidents from operator/city/template arrays
    _operators = [
        # (name, model, [(city, state, state_code, lat, lng), ...])
        ("Waymo", "Jaguar I-PACE", [
            ("San Francisco", "California", "CA", 37.7749, -122.4194),
            ("Phoenix", "Arizona", "AZ", 33.4484, -112.0740),
            ("Los Angeles", "California", "CA", 34.0522, -118.2437),
            ("Austin", "Texas", "TX", 30.2672, -97.7431),
            ("Atlanta", "Georgia", "GA", 33.7490, -84.3880),
        ]),
        ("Cruise", "Chevrolet Bolt EV", [
            ("San Francisco", "California", "CA", 37.7849, -122.4094),
            ("Phoenix", "Arizona", "AZ", 33.4584, -112.0640),
            ("Houston", "Texas", "TX", 29.7604, -95.3698),
            ("Dallas", "Texas", "TX", 32.7867, -96.7970),
            ("Austin", "Texas", "TX", 30.2772, -97.7531),
        ]),
        ("Aurora", "Peterbilt 579", [
            ("Dallas", "Texas", "TX", 32.8998, -96.6378),
            ("Houston", "Texas", "TX", 29.7504, -95.3598),
            ("El Paso", "Texas", "TX", 31.7619, -106.4850),
            ("Pittsburgh", "Pennsylvania", "PA", 40.4406, -79.9959),
        ]),
        ("Nuro", "Nuro R2", [
            ("Houston", "Texas", "TX", 29.7504, -95.3698),
            ("Mountain View", "California", "CA", 37.3861, -122.0839),
            ("Phoenix", "Arizona", "AZ", 33.5084, -112.0740),
        ]),
        ("Motional", "Hyundai IONIQ 5", [
            ("Las Vegas", "Nevada", "NV", 36.1699, -115.1398),
            ("Los Angeles", "California", "CA", 34.0622, -118.2537),
            ("Boston", "Massachusetts", "MA", 42.3601, -71.0589),
        ]),
        ("Zoox", "Zoox Robotaxi", [
            ("San Francisco", "California", "CA", 37.7649, -122.4294),
            ("Las Vegas", "Nevada", "NV", 36.1799, -115.1498),
            ("Foster City", "California", "CA", 37.5585, -122.2711),
        ]),
        ("TuSimple", "Navistar International LT", [
            ("Tucson", "Arizona", "AZ", 32.2226, -110.9747),
            ("Phoenix", "Arizona", "AZ", 33.4384, -112.0640),
        ]),
        ("Torc Robotics", "Freightliner Cascadia", [
            ("Albuquerque", "New Mexico", "NM", 35.0844, -106.6504),
            ("Dallas", "Texas", "TX", 32.8467, -96.8170),
        ]),
        ("Kodiak Robotics", "Kenworth T680", [
            ("Dallas", "Texas", "TX", 32.9267, -96.8070),
            ("Houston", "Texas", "TX", 29.7404, -95.3598),
        ]),
        ("May Mobility", "Lexus RX 450h", [
            ("Ann Arbor", "Michigan", "MI", 42.2808, -83.7430),
            ("Grand Rapids", "Michigan", "MI", 42.9634, -85.6681),
            ("Arlington", "Texas", "TX", 32.7357, -97.1081),
        ]),
    ]

    # 20 incident templates that cycle through operators/cities
    _templates = [
        ("collision", "property_damage", False, "Minor rear-end collision at a signalized intersection. The AV was stopped at a red light when struck from behind by a following vehicle."),
        ("collision", "property_damage", True, "Low-speed sideswipe while navigating a lane merge. The AV was changing lanes when it made contact with an adjacent vehicle."),
        ("collision", "property_damage", True, "AV contacted a parked vehicle while navigating a narrow street. Minor cosmetic damage to both vehicles."),
        ("collision", "property_damage", False, "Another vehicle ran a red light and struck the AV broadside in the intersection. AV had the right of way."),
        ("collision", "injury", True, "AV made contact with a cyclist at an intersection. The cyclist reported minor injuries and was transported to a nearby hospital."),
        ("collision", "injury", False, "High-speed rear-end collision on a highway on-ramp. The AV was struck from behind while decelerating. Occupants reported neck pain."),
        ("collision", "property_damage", True, "AV struck a traffic cone in a construction zone. No other vehicles or persons were involved."),
        ("collision", "property_damage", False, "Vehicle made a U-turn into the path of the AV. Contact was made at low speed with minor damage to both vehicles."),
        ("near_miss", "property_damage", True, "AV performed a hard braking maneuver to avoid a pedestrian who stepped into the crosswalk. No contact was made."),
        ("collision", "property_damage", True, "Minor contact with a delivery truck while both vehicles were navigating a tight commercial loading zone."),
        ("collision", "injury", True, "AV was involved in a multi-vehicle collision at an intersection. One occupant in a third-party vehicle reported minor back pain."),
        ("collision", "property_damage", False, "The AV was rear-ended while stopped in traffic. The striking vehicle was traveling at approximately 15 mph."),
        ("collision", "fatality", True, "Fatal collision involving an AV and a pedestrian crossing outside of a designated crosswalk at night."),
        ("collision", "property_damage", True, "AV made contact with a road barrier while rerouting around a double-parked vehicle on a residential street."),
        ("near_miss", "property_damage", True, "AV initiated emergency stop to avoid a vehicle running a stop sign. No contact made but following vehicle had to brake hard."),
        ("collision", "injury", False, "Side-impact collision at a four-way stop where another driver failed to yield. AV passenger reported shoulder discomfort."),
        ("collision", "property_damage", True, "AV sideswiped a bus mirror while passing in an adjacent lane in heavy traffic. Minor mirror damage only."),
        ("collision", "property_damage", False, "Rideshare vehicle door opened into the path of the slow-moving AV. Minor door and bumper damage."),
        ("collision", "injury", True, "AV braked suddenly for a road hazard causing a following motorcycle to collide with the rear. Motorcyclist sustained minor leg injury."),
        ("collision", "property_damage", True, "AV struck debris in the roadway causing cosmetic damage to the vehicle undercarriage. No other vehicles involved."),
    ]

    incidents = []
    report_num = 1
    # Generate ~4 date-distributed incidents per operator/city/template combination
    base_date = date(2022, 1, 15)
    for op_name, model, cities in _operators:
        for ci, (city, state, sc, lat, lng) in enumerate(cities):
            for ti, (itype, severity, ads, desc) in enumerate(_templates):
                # Spread dates across 2022-2025
                day_offset = (report_num * 7) % 1400  # Spread across ~3.8 years
                inc_date = base_date + timedelta(days=day_offset)
                # Add small random-like position jitter based on report number
                jitter_lat = ((report_num * 17) % 100 - 50) * 0.001
                jitter_lng = ((report_num * 31) % 100 - 50) * 0.001
                incidents.append(SafetyIncident(
                    report_id=f"NHTSA-AV-{inc_date.year}-{report_num:04d}",
                    date=inc_date,
                    manufacturer=op_name,
                    vehicle_model=model,
                    city=city,
                    state=state,
                    state_code=sc,
                    latitude=round(lat + jitter_lat, 4),
                    longitude=round(lng + jitter_lng, 4),
                    incident_type=itype,
                    severity=severity,
                    ads_engaged=ads,
                    description=f"{desc} Incident occurred in {city}, {sc}.",
                    source="NHTSA SGO Report",
                    source_url=f"https://nhtsa.gov/odi/inv/sgo/{inc_date.year}/{report_num:04d}",
                ))
                report_num += 1
    db.add_all(incidents)
    db.commit()


# ------------------------------------------------------------------ #
#  RESOURCES  (placeholder - populated below)
# ------------------------------------------------------------------ #
def _seed_resources(db):
    if db.query(Resource).count() > 0:
        return
    # (title, author_org, resource_type, pub_date, tags, topic_area, summary, url)
    _res = [
        ("Automated Vehicles for Safety", "NHTSA", "guidance", date(2024, 1, 15), "safety,regulation,federal", "Safety",
         "NHTSA's updated policy guidance for automated driving systems, outlining voluntary safety self-assessment expectations and providing guidance for AV manufacturers on safety best practices.",
         "https://nhtsa.gov/technology-innovation/automated-vehicles-safety"),
        ("Autonomous Vehicle Readiness Index 2024", "KPMG", "report", date(2024, 3, 1), "policy,readiness,global", "Policy",
         "Annual index ranking countries on their readiness for autonomous vehicles based on policy, technology, infrastructure, and consumer acceptance metrics.",
         "https://kpmg.com/autonomous-vehicles-readiness-index"),
        ("The State of Autonomous Vehicle Regulation", "NCSL", "report", date(2024, 6, 1), "legislation,state,regulation", "Policy",
         "Comprehensive overview of autonomous vehicle legislation and executive orders across all 50 US states. Tracks enacted laws, pending bills, and regulatory trends.",
         "https://ncsl.org/research/transportation/autonomous-vehicles-state-bill-tracking-database.aspx"),
        ("Ensuring American Leadership in Automated Vehicle Technologies: ADS 2.0", "USDOT", "guidance", date(2023, 9, 1), "federal,policy,technology", "Policy",
         "Federal guidance document establishing the US Department of Transportation's approach to automated vehicle policy, emphasizing innovation-friendly regulation.",
         "https://transportation.gov/av/2.0"),
        ("Automated Vehicles: A Policy Preparation Guide", "APA", "policy_brief", date(2023, 11, 1), "planning,cities,land-use", "Planning",
         "American Planning Association guide helping local governments prepare for the impacts of autonomous vehicles on land use, parking, transit, and urban design.",
         "https://planning.org/publications/report/autonomous-vehicles"),
        ("Safety Performance of Automated Driving Systems: 2023 Annual Report", "NHTSA", "report", date(2024, 4, 15), "safety,data,incidents", "Safety",
         "Annual report analyzing safety data collected from ADS-equipped vehicles through NHTSA's Standing General Order reporting program. Covers crash statistics and trends.",
         "https://nhtsa.gov/technology-innovation/ads-safety-data"),
        ("Autonomous Vehicles and the Future of Urban Transit", "Eno Center for Transportation", "white_paper", date(2024, 2, 1), "transit,urban,mobility", "Transit",
         "Analysis of how autonomous vehicles will reshape urban public transportation systems, examining scenarios for integration, competition, and complementary services.",
         "https://enotrans.org/article/autonomous-vehicles-future-urban-transit"),
        ("RAND Autonomous Vehicle Policy Framework", "RAND Corporation", "report", date(2023, 7, 1), "policy,framework,safety", "Policy",
         "Comprehensive policy framework for regulating autonomous vehicles, proposing a staged approach to deployment with safety benchmarks and graduated operational permissions.",
         "https://rand.org/pubs/research_reports/autonomous-vehicle-policy"),
        ("Connected and Automated Vehicle Impacts on Land Use", "TRB", "report", date(2024, 5, 1), "land-use,planning,impacts", "Planning",
         "Transportation Research Board report examining how connected and automated vehicles will affect land use patterns, parking demand, and urban development.",
         "https://trb.org/Publications/Blurbs/connected-automated-vehicle-land-use"),
        ("AV Safety Metrics and Benchmarks", "SAE International", "white_paper", date(2023, 12, 1), "safety,standards,metrics", "Safety",
         "SAE white paper proposing standardized safety metrics and performance benchmarks for evaluating autonomous driving systems across different operational domains.",
         "https://sae.org/publications/automated-driving-safety-metrics"),
        ("Liability and Insurance Framework for Autonomous Vehicles", "Insurance Institute for Highway Safety", "report", date(2024, 1, 1), "insurance,liability,legal", "Legal",
         "Analysis of liability frameworks and insurance models for autonomous vehicles, examining the shift from driver liability to product liability and manufacturer responsibility.",
         "https://iihs.org/topics/autonomous-vehicles/liability-framework"),
        ("Cybersecurity Best Practices for Modern Vehicles", "NHTSA", "guidance", date(2023, 10, 1), "cybersecurity,safety,technology", "Technology",
         "Updated cybersecurity guidance for automotive manufacturers including specific recommendations for autonomous driving systems, over-the-air updates, and V2X communications.",
         "https://nhtsa.gov/technology-innovation/vehicle-cybersecurity"),
        ("Equity Implications of Autonomous Vehicles", "TransitCenter", "white_paper", date(2024, 3, 15), "equity,access,communities", "Equity",
         "Examination of how autonomous vehicle deployment may affect transportation equity, including access for underserved communities, persons with disabilities, and low-income populations.",
         "https://transitcenter.org/publication/equity-autonomous-vehicles"),
        ("Infrastructure Needs for Automated Vehicles", "FHWA", "report", date(2024, 7, 1), "infrastructure,roads,digital", "Infrastructure",
         "Federal Highway Administration assessment of infrastructure modifications needed to support automated vehicles, including digital infrastructure, pavement markings, and signage standards.",
         "https://fhwa.dot.gov/innovation/everydaycounts/av-infrastructure"),
        ("Autonomous Delivery Vehicles: Regulation and Deployment", "NCSL", "policy_brief", date(2024, 8, 1), "delivery,regulation,cities", "Policy",
         "Policy brief on the emerging regulatory landscape for autonomous delivery vehicles and robots operating on streets and sidewalks across US municipalities.",
         "https://ncsl.org/research/transportation/autonomous-delivery-vehicles"),
        ("Economic Impacts of Autonomous Vehicles on US Employment", "Brookings Institution", "report", date(2023, 8, 1), "employment,economics,workforce", "Economics",
         "Study analyzing potential employment impacts of autonomous vehicle adoption on trucking, taxi/rideshare, and delivery sectors with workforce transition recommendations.",
         "https://brookings.edu/research/economic-impacts-autonomous-vehicles-employment"),
        ("AV-Pedestrian Interaction Design Guidelines", "National Academies", "guidance", date(2024, 2, 15), "pedestrians,interaction,design", "Safety",
         "Guidelines for designing autonomous vehicle external communication systems that effectively convey vehicle intent to pedestrians, cyclists, and other road users.",
         "https://nap.nationalacademies.org/catalog/av-pedestrian-interaction"),
        ("State Approaches to Autonomous Vehicle Oversight", "Governors Highway Safety Association", "report", date(2024, 4, 1), "states,oversight,regulation", "Policy",
         "Comparative analysis of state approaches to autonomous vehicle oversight including licensing, registration, testing permits, and incident reporting requirements.",
         "https://ghsa.org/resources/autonomous-vehicles-state-oversight"),
        ("Freight Automation Technology Assessment", "American Trucking Associations", "white_paper", date(2024, 6, 15), "freight,trucking,automation", "Freight",
         "Industry assessment of autonomous trucking technology readiness, deployment timelines, and recommendations for regulatory harmonization across state lines.",
         "https://trucking.org/technology/autonomous-freight-assessment"),
        ("Data Privacy and Autonomous Vehicles", "Future of Privacy Forum", "white_paper", date(2023, 5, 1), "privacy,data,technology", "Technology",
         "Analysis of data privacy challenges posed by autonomous vehicles including location tracking, biometric data, passenger information, and recommendations for privacy-by-design.",
         "https://fpf.org/blog/autonomous-vehicle-data-privacy"),
        ("Accessible Autonomous Vehicles: Universal Design Principles", "US Access Board", "guidance", date(2024, 9, 1), "accessibility,disability,design", "Equity",
         "Federal guidance on accessible design requirements for autonomous vehicles ensuring compliance with ADA and equitable access for persons with disabilities.",
         "https://access-board.gov/av/accessible-design"),
        ("Transit Agency Perspectives on Vehicle Automation", "APTA", "report", date(2024, 5, 15), "transit,agency,operations", "Transit",
         "American Public Transportation Association survey and analysis of how US transit agencies are planning for and implementing automated vehicle technologies.",
         "https://apta.com/research-technical-resources/transit-automation"),
        ("Climate Benefits of Autonomous and Connected Vehicles", "RMI", "white_paper", date(2024, 1, 30), "climate,emissions,energy", "Environment",
         "Rocky Mountain Institute analysis of the potential greenhouse gas emission reductions from widespread adoption of autonomous and connected vehicle technologies.",
         "https://rmi.org/insight/climate-benefits-autonomous-vehicles"),
        ("Federal Motor Vehicle Safety Standards for ADS", "NHTSA", "guidance", date(2024, 10, 1), "safety,standards,federal", "Safety",
         "Proposed updates to Federal Motor Vehicle Safety Standards to accommodate vehicles with automated driving systems, including exemptions for vehicles without traditional controls.",
         "https://nhtsa.gov/fmvss-ads-update"),
        ("Smart City Transportation Integration: AV Best Practices", "Smart Cities Council", "report", date(2024, 3, 30), "smart-cities,integration,technology", "Technology",
         "Best practices guide for cities integrating autonomous vehicles into broader smart city transportation ecosystems including data sharing, traffic management, and V2I coordination.",
         "https://smartcitiescouncil.com/resources/av-integration-best-practices"),
    ]
    resources = [Resource(title=d[0], author_org=d[1], resource_type=d[2], publication_date=d[3],
                          tags=d[4], topic_area=d[5], summary=d[6], url=d[7]) for d in _res]
    _res2 = [
        ("Autonomous Vehicle Testing Standards and Protocols", "ISO/SAE", "guidance", date(2023, 4, 1), "testing,standards,international", "Safety",
         "International standards framework for testing and validating autonomous driving systems, including simulation requirements, track testing, and on-road evaluation protocols.",
         "https://sae.org/standards/automated-driving-testing"),
        ("Rural Communities and Autonomous Vehicle Access", "US DOT Volpe Center", "report", date(2024, 7, 15), "rural,access,mobility", "Equity",
         "Study examining the potential for autonomous vehicles to improve mobility access in rural communities, including challenges related to infrastructure, connectivity, and terrain.",
         "https://volpe.dot.gov/research/rural-autonomous-mobility"),
        ("AV Integration with Public Transit: Case Studies", "TCRP", "report", date(2024, 8, 15), "transit,integration,case-studies", "Transit",
         "Transit Cooperative Research Program report with case studies of autonomous vehicle integration with public transit systems in six US metro areas.",
         "https://trb.org/tcrp/av-transit-integration"),
        ("Machine Ethics and Autonomous Vehicle Decision-Making", "IEEE", "white_paper", date(2023, 11, 15), "ethics,AI,decision-making", "Technology",
         "IEEE exploration of ethical decision-making frameworks for autonomous vehicles, examining trolley problem scenarios, algorithmic fairness, and transparent AI governance.",
         "https://standards.ieee.org/initiatives/autonomous-vehicles-ethics"),
        ("Economic Analysis of AV Deployment Scenarios 2025-2040", "Congressional Budget Office", "report", date(2024, 6, 30), "economics,forecast,deployment", "Economics",
         "CBO economic analysis projecting autonomous vehicle deployment timelines and their fiscal impacts on federal revenue, transportation spending, and insurance markets.",
         "https://cbo.gov/publication/av-deployment-economic-analysis"),
        ("V2X Communication Standards for Automated Vehicles", "IEEE/SAE", "guidance", date(2024, 4, 15), "V2X,communication,standards", "Technology",
         "Technical standards for vehicle-to-everything communications supporting cooperative automated driving, including C-V2X and DSRC protocols.",
         "https://standards.ieee.org/standard/v2x-automated-vehicles"),
        ("Autonomous Vehicle Winter Operations Guide", "Minnesota DOT", "guidance", date(2024, 11, 1), "winter,operations,infrastructure", "Infrastructure",
         "Practical guide for autonomous vehicle operations in winter weather conditions, covering sensor challenges, road maintenance coordination, and infrastructure adaptations.",
         "https://dot.state.mn.us/research/reports/av-winter-operations"),
        ("Public Perception of Autonomous Vehicles: 2024 Survey", "Pew Research Center", "report", date(2024, 5, 20), "public-opinion,survey,acceptance", "Policy",
         "National survey examining American attitudes toward autonomous vehicles, trust levels, safety perceptions, and willingness to ride in self-driving vehicles.",
         "https://pewresearch.org/internet/autonomous-vehicle-perception-survey"),
        ("Autonomous Vehicle Data Sharing Framework", "Open Mobility Foundation", "white_paper", date(2024, 2, 28), "data-sharing,standards,cities", "Technology",
         "Framework for standardized data sharing between autonomous vehicle operators and city governments, covering trip data, safety incidents, and operational metrics.",
         "https://openmobilityfoundation.org/resources/av-data-sharing"),
        ("Impact of AVs on Emergency Response Operations", "National Fire Protection Association", "report", date(2024, 8, 30), "emergency,response,safety", "Safety",
         "Analysis of how autonomous vehicles affect emergency response operations including fire department access, crash extrication procedures, and EMS coordination.",
         "https://nfpa.org/research/av-emergency-response"),
        ("Autonomous Vehicle Parking and Curbside Management", "International Parking & Mobility Institute", "white_paper", date(2024, 3, 20), "parking,curbside,management", "Planning",
         "Study of how autonomous vehicles will transform parking demand and curbside usage in urban areas, with recommendations for adaptive curbside management policies.",
         "https://parking-mobility.org/av-parking-curbside"),
        ("Sensor Technology for Autonomous Driving: State of the Art", "MIT Lincoln Laboratory", "report", date(2024, 9, 15), "sensors,lidar,technology", "Technology",
         "Technical review of current and emerging sensor technologies for autonomous vehicles including LiDAR, radar, cameras, and sensor fusion approaches.",
         "https://ll.mit.edu/r-d/projects/av-sensor-technology"),
        ("Highway Design Standards for Automated Vehicles", "AASHTO", "guidance", date(2024, 10, 15), "highway,design,standards", "Infrastructure",
         "Draft guidelines for updating highway geometric design standards to accommodate automated vehicles, including lane widths, curve design, and interchange configurations.",
         "https://transportation.org/highway-design-automated-vehicles"),
        ("Labor Market Impacts of Autonomous Trucking", "Bureau of Labor Statistics", "report", date(2024, 4, 30), "labor,trucking,employment", "Economics",
         "BLS analysis of potential labor market disruptions from autonomous trucking technology, with projections for job displacement and creation across the freight sector.",
         "https://bls.gov/opub/reports/autonomous-trucking-labor-impact"),
        ("Mapping Requirements for Autonomous Vehicle Navigation", "HERE Technologies", "white_paper", date(2024, 1, 20), "mapping,HD-maps,navigation", "Technology",
         "Technical requirements for high-definition maps supporting autonomous vehicle navigation, including update frequency, accuracy standards, and crowdsourced data integration.",
         "https://here.com/learn/blog/hd-maps-autonomous-driving"),
        ("Autonomous Vehicle Insurance Models: Comparative Analysis", "National Association of Insurance Commissioners", "report", date(2024, 7, 30), "insurance,models,regulation", "Legal",
         "Comparative analysis of insurance regulatory approaches for autonomous vehicles across US states, examining liability assignment, premium models, and data access requirements.",
         "https://naic.org/cipr-topics/autonomous-vehicles-insurance"),
        ("Energy Efficiency of Autonomous vs. Human-Driven Vehicles", "Argonne National Laboratory", "report", date(2024, 6, 15), "energy,efficiency,comparison", "Environment",
         "National lab study comparing energy consumption between autonomous and human-driven vehicles under various driving conditions and operational scenarios.",
         "https://anl.gov/es/autonomous-vehicle-energy-efficiency"),
        ("Curbside Management in the Age of Autonomous Vehicles", "NACTO", "guidance", date(2024, 5, 10), "curbside,urban,design", "Planning",
         "National Association of City Transportation Officials guidelines for managing urban curbside space to accommodate autonomous passenger and delivery vehicles.",
         "https://nacto.org/publication/curbside-autonomous-vehicles"),
        ("Telecommunications Infrastructure for Connected AVs", "FCC", "white_paper", date(2024, 8, 20), "telecom,5G,connectivity", "Infrastructure",
         "FCC analysis of telecommunications infrastructure requirements for supporting connected autonomous vehicles, including 5G deployment, spectrum allocation, and rural coverage gaps.",
         "https://fcc.gov/document/telecom-infrastructure-connected-autonomous-vehicles"),
        ("Autonomous Vehicle Environmental Impact Assessment", "EPA", "report", date(2024, 11, 15), "environment,emissions,assessment", "Environment",
         "Environmental Protection Agency assessment of the potential environmental impacts of widespread autonomous vehicle adoption, covering air quality, noise, and land use effects.",
         "https://epa.gov/transportation-air-pollution-and-climate-change/av-environmental-assessment"),
        ("First Responder Interaction with Autonomous Vehicles", "IACP", "guidance", date(2024, 2, 10), "law-enforcement,interaction,training", "Safety",
         "International Association of Chiefs of Police guidance for law enforcement officers interacting with autonomous vehicles during traffic stops, accidents, and emergencies.",
         "https://theiacp.org/projects/autonomous-vehicle-law-enforcement"),
        ("Autonomous Vehicle Platooning: Safety and Efficiency Analysis", "FHWA", "report", date(2024, 9, 30), "platooning,freight,highway", "Freight",
         "FHWA study analyzing the safety and fuel efficiency benefits of autonomous truck platooning on US highways, including following distance optimization and aerodynamic savings.",
         "https://fhwa.dot.gov/research/platooning-autonomous-trucks"),
        ("Simulation Testing Standards for Automated Driving", "ASAM", "guidance", date(2024, 3, 10), "simulation,testing,standards", "Technology",
         "International standards for simulation environments used to test and validate automated driving systems, covering scenario design, physics models, and sensor simulation.",
         "https://asam.net/standards/simulation-autonomous-driving"),
        ("Autonomous Vehicle Impact on Urban Real Estate", "Urban Land Institute", "report", date(2024, 10, 30), "real-estate,urban,development", "Planning",
         "Analysis of how autonomous vehicles may reshape urban real estate markets, including impacts on property values near transit, parking garage conversions, and suburban development patterns.",
         "https://uli.org/research/autonomous-vehicles-real-estate"),
        ("Shared Autonomous Vehicles: Fleet Management Strategies", "MIT Media Lab", "white_paper", date(2024, 4, 20), "shared,fleet,management", "Technology",
         "Research on optimal fleet sizing, repositioning, and pricing strategies for shared autonomous vehicle fleets operating in urban environments.",
         "https://media.mit.edu/publications/shared-autonomous-vehicle-fleet-management"),
    ]
    resources.extend([Resource(title=d[0], author_org=d[1], resource_type=d[2], publication_date=d[3],
                               tags=d[4], topic_area=d[5], summary=d[6], url=d[7]) for d in _res2])
    _res3 = [
        ("Autonomous Vehicle Cybersecurity Threat Landscape", "DHS CISA", "report", date(2024, 7, 20), "cybersecurity,threats,federal", "Technology",
         "DHS Cybersecurity and Infrastructure Security Agency report on emerging cyber threats specific to autonomous vehicles and connected transportation infrastructure.",
         "https://cisa.gov/publication/autonomous-vehicle-cybersecurity-threats"),
        ("Level 4 Autonomous Trucking: Market Readiness Report", "McKinsey & Company", "report", date(2024, 8, 5), "trucking,market,analysis", "Freight",
         "Consulting analysis of the commercial readiness of Level 4 autonomous trucking, covering technology maturity, regulatory landscape, and deployment economics.",
         "https://mckinsey.com/industries/automotive/autonomous-trucking-market-readiness"),
        ("Pedestrian Safety in the Autonomous Vehicle Era", "Vision Zero Network", "white_paper", date(2024, 6, 20), "pedestrian,safety,design", "Safety",
         "Examination of pedestrian safety considerations as autonomous vehicles become prevalent, including vehicle design requirements, intersection modifications, and vulnerable road user detection.",
         "https://visionzeronetwork.org/resources/pedestrian-safety-autonomous-vehicles"),
        ("Municipal AV Permitting: Best Practices Guide", "National League of Cities", "guidance", date(2024, 9, 10), "permitting,municipal,regulation", "Policy",
         "Best practices guide for city governments establishing permitting processes for autonomous vehicle testing and deployment within their jurisdictions.",
         "https://nlc.org/resource/municipal-av-permitting-best-practices"),
        ("Electric Autonomous Vehicles: Charging Infrastructure Planning", "Edison Electric Institute", "white_paper", date(2024, 5, 25), "charging,EV,infrastructure", "Infrastructure",
         "Analysis of electric charging infrastructure needs specific to autonomous vehicle fleet operations, including depot charging, en-route charging, and grid integration.",
         "https://eei.org/issues-and-policy/electric-autonomous-vehicle-charging"),
        ("Autonomous Vehicle Operations in Severe Weather", "NOAA", "report", date(2024, 11, 20), "weather,operations,challenges", "Technology",
         "Study of autonomous vehicle performance and safety challenges in severe weather conditions including heavy rain, snow, fog, and extreme temperatures.",
         "https://noaa.gov/research/transportation/av-severe-weather"),
        ("Social Impacts of Driverless Transportation", "National Academies of Sciences", "report", date(2024, 10, 10), "social,impacts,communities", "Equity",
         "Comprehensive assessment of societal impacts from autonomous vehicle adoption including community disruption, mobility equity, and quality of life effects.",
         "https://nap.nationalacademies.org/catalog/social-impacts-driverless-transportation"),
        ("Ride-Hail Market Evolution with Autonomous Vehicles", "Bloomberg NEF", "report", date(2024, 4, 10), "ride-hail,market,disruption", "Economics",
         "Market analysis of how autonomous ride-hail services will disrupt the existing transportation-as-a-service market including pricing, fleet economics, and competitive dynamics.",
         "https://about.bnef.com/blog/autonomous-ride-hail-market-evolution"),
        ("AV-Ready Traffic Signal Design Guide", "ITE", "guidance", date(2024, 7, 5), "traffic-signals,V2I,design", "Infrastructure",
         "Institute of Transportation Engineers guide for designing traffic signal systems that can communicate with and support autonomous vehicle operations through V2I connectivity.",
         "https://ite.org/technical-resources/av-ready-traffic-signals"),
        ("Workers' Compensation and Autonomous Vehicles", "NCCI", "white_paper", date(2024, 3, 5), "workers-comp,insurance,labor", "Legal",
         "Analysis of workers' compensation implications for industries adopting autonomous vehicles, examining new risk profiles and coverage adjustments needed.",
         "https://ncci.com/articles/pages/autonomous-vehicles-workers-compensation"),
        ("Cross-Border Autonomous Vehicle Operations: US-Canada-Mexico", "Wilson Center", "policy_brief", date(2024, 8, 10), "cross-border,international,trade", "Policy",
         "Policy brief examining challenges and opportunities for cross-border autonomous vehicle operations between the US, Canada, and Mexico, including regulatory harmonization.",
         "https://wilsoncenter.org/publication/cross-border-autonomous-vehicle-operations"),
        ("AV Fleet Electrification Roadmap", "Rocky Mountain Institute", "white_paper", date(2024, 12, 1), "electrification,fleet,planning", "Environment",
         "Roadmap for transitioning autonomous vehicle fleets to electric power, covering vehicle selection, infrastructure deployment, and total cost of ownership analysis.",
         "https://rmi.org/insight/autonomous-vehicle-fleet-electrification"),
        ("Edge Computing for Autonomous Vehicle Systems", "Linux Foundation", "white_paper", date(2024, 9, 20), "edge-computing,technology,architecture", "Technology",
         "Technical white paper on edge computing architectures supporting autonomous vehicle operations, including roadside computation, latency requirements, and cloud-edge coordination.",
         "https://linuxfoundation.org/research/edge-computing-autonomous-vehicles"),
        ("Autonomous Vehicle Noise Regulations", "EPA", "guidance", date(2024, 6, 5), "noise,regulation,environment", "Environment",
         "EPA guidance on noise standards for electric autonomous vehicles, addressing pedestrian safety concerns from quiet vehicles and proposed minimum sound requirements.",
         "https://epa.gov/regulations/autonomous-vehicle-noise-standards"),
        ("Digital Twins for AV Infrastructure Testing", "Siemens Mobility", "white_paper", date(2024, 10, 20), "digital-twin,simulation,infrastructure", "Technology",
         "Application of digital twin technology for testing autonomous vehicle interactions with transportation infrastructure in virtual environments before physical deployment.",
         "https://mobility.siemens.com/global/en/portfolio/digital-twin-av-testing.html"),
        ("School Zone Safety and Autonomous Vehicles", "National School Transportation Association", "guidance", date(2024, 5, 5), "school-zones,safety,children", "Safety",
         "Guidance for autonomous vehicle operations near schools including speed control, pedestrian detection requirements, and coordination with school bus operations.",
         "https://yellowbuses.org/resources/autonomous-vehicles-school-zones"),
        ("Intermodal Freight Automation Strategy", "National Academies NCFRP", "report", date(2024, 11, 5), "intermodal,freight,strategy", "Freight",
         "Strategy for automating intermodal freight connections between autonomous trucks, rail, and port operations to improve supply chain efficiency.",
         "https://nap.nationalacademies.org/catalog/intermodal-freight-automation"),
        ("AV Testing Ground Infrastructure Requirements", "MCity", "report", date(2024, 2, 20), "testing,infrastructure,facilities", "Infrastructure",
         "University of Michigan MCity report on infrastructure requirements for autonomous vehicle testing facilities, covering road design, communication systems, and scenario capabilities.",
         "https://mcity.umich.edu/research/testing-ground-infrastructure"),
        ("Health Impacts of Autonomous Vehicle Adoption", "CDC", "report", date(2024, 8, 25), "health,safety,public-health", "Safety",
         "CDC assessment of potential public health impacts from widespread autonomous vehicle adoption, including crash reduction benefits, physical activity changes, and air quality improvements.",
         "https://cdc.gov/injury/research/autonomous-vehicle-health-impacts"),
        ("Cooperative Perception for Autonomous Driving", "Carnegie Mellon University", "white_paper", date(2024, 7, 10), "cooperative,perception,research", "Technology",
         "Research on cooperative perception systems where autonomous vehicles share sensor data with each other and infrastructure to extend perception range and reduce blind spots.",
         "https://cmu.edu/ri/research/cooperative-perception-autonomous-driving"),
        ("Transit Operator Workforce Transition Guide", "Transportation Learning Center", "guidance", date(2024, 9, 5), "workforce,training,transit", "Transit",
         "Guide for transit agencies managing workforce transitions as autonomous vehicle technology is deployed, including retraining programs, new role creation, and labor relations.",
         "https://transportcenter.org/workforce/transit-av-workforce-transition"),
        ("Urban Air Mobility and Ground AV Integration", "FAA/NASA", "report", date(2024, 10, 25), "UAM,integration,multimodal", "Technology",
         "Joint FAA-NASA study on integrating urban air mobility vehicles with ground autonomous vehicles for seamless multimodal transportation in metropolitan areas.",
         "https://faa.gov/uas/advanced-operations/urban-air-mobility-ground-av"),
        ("Autonomous Vehicle Impact on Freight Rail", "Association of American Railroads", "white_paper", date(2024, 4, 5), "rail,freight,competition", "Freight",
         "Railroad industry analysis of how autonomous trucking may shift freight volumes between road and rail, with projections for modal share changes through 2040.",
         "https://aar.org/article/autonomous-trucking-freight-rail-impact"),
        ("5G Network Slicing for Autonomous Vehicles", "5GAA", "white_paper", date(2024, 6, 10), "5G,network,connectivity", "Technology",
         "5G Automotive Association technical paper on using network slicing to provide guaranteed quality of service for safety-critical autonomous vehicle communications.",
         "https://5gaa.org/news/5g-network-slicing-autonomous-vehicles"),
        ("State DMV Readiness for Autonomous Vehicle Registration", "AAMVA", "report", date(2024, 12, 10), "DMV,registration,states", "Policy",
         "Assessment of state Department of Motor Vehicles readiness to handle autonomous vehicle registration, titling, and licensing in jurisdictions where AVs are permitted.",
         "https://aamva.org/topics/autonomous-vehicles/dmv-readiness"),
    ]
    resources.extend([Resource(title=d[0], author_org=d[1], resource_type=d[2], publication_date=d[3],
                               tags=d[4], topic_area=d[5], summary=d[6], url=d[7]) for d in _res3])
    _res4 = [
        ("Autonomous Vehicle Accessibility Standards Update", "US Access Board", "guidance", date(2025, 1, 15), "accessibility,standards,federal", "Equity",
         "Updated accessibility standards incorporating autonomous vehicle-specific requirements for wheelchair access, sensory impairment accommodations, and emergency egress.",
         "https://access-board.gov/av/accessibility-standards-update"),
        ("Micromobility and Autonomous Vehicle Interaction", "NACTO", "guidance", date(2024, 11, 10), "micromobility,interaction,safety", "Safety",
         "Guidelines for safe interaction between autonomous vehicles and micromobility devices (e-bikes, e-scooters) in urban environments, covering detection requirements and right-of-way protocols.",
         "https://nacto.org/publication/micromobility-av-interaction"),
        ("Autonomous Vehicle Technology Costs: 2024 Analysis", "IHS Markit", "report", date(2024, 12, 15), "costs,technology,market", "Economics",
         "Detailed cost analysis of autonomous vehicle technology components including LiDAR, compute platforms, redundant systems, and projections for cost reductions through 2030.",
         "https://ihsmarkit.com/research/autonomous-vehicle-technology-costs"),
        ("Geofencing Standards for Autonomous Vehicles", "ISO", "guidance", date(2024, 9, 25), "geofencing,standards,operations", "Technology",
         "International standards for geofencing systems used to define autonomous vehicle operational design domains, including dynamic boundary management and compliance monitoring.",
         "https://iso.org/standard/geofencing-autonomous-vehicles"),
        ("Autonomous Shuttles in Healthcare Settings", "American Hospital Association", "white_paper", date(2024, 10, 5), "healthcare,shuttles,access", "Transit",
         "Study of autonomous shuttle deployments in healthcare campuses and the potential for improved patient transportation access between facilities.",
         "https://aha.org/center/autonomous-vehicle-healthcare-transportation"),
        ("AV-Ready Smart Corridor Design Handbook", "ITS America", "guidance", date(2024, 8, 15), "corridors,smart,design", "Infrastructure",
         "Handbook for designing transportation corridors that support autonomous vehicle operations with integrated V2I communication, adaptive signals, and real-time data sharing.",
         "https://itsa.org/resources/av-ready-smart-corridor-handbook"),
        ("Long-Term Care Transportation and Autonomous Vehicles", "AARP", "report", date(2024, 7, 25), "aging,transportation,care", "Equity",
         "AARP analysis of how autonomous vehicles can address transportation gaps for older adults, particularly those in long-term care facilities and aging-in-place communities.",
         "https://aarp.org/ppi/issues/transportation/autonomous-vehicles-older-adults"),
        ("Autonomous Vehicle Optical Communication Systems", "Velodyne", "white_paper", date(2024, 5, 30), "LiDAR,optical,communication", "Technology",
         "Technical paper on next-generation optical communication and sensing systems for autonomous vehicles, exploring dual-use LiDAR for both perception and V2V data exchange.",
         "https://velodyne.com/research/optical-communication-autonomous-vehicles"),
        ("State Tort Reform for Autonomous Vehicle Liability", "American Bar Association", "policy_brief", date(2024, 11, 25), "tort,liability,legal-reform", "Legal",
         "Policy recommendations for state tort reform to address autonomous vehicle liability, including strict liability proposals, comparative fault modifications, and data preservation requirements.",
         "https://americanbar.org/groups/tort/publications/av-tort-reform"),
        ("Autonomous Buses: Global Deployment Status Report", "UITP", "report", date(2024, 12, 5), "buses,global,deployment", "Transit",
         "International Association of Public Transport report on autonomous bus deployments worldwide, comparing regulatory approaches, technology platforms, and operational models.",
         "https://uitp.org/publications/autonomous-bus-deployment-report"),
        ("AI Governance for Autonomous Vehicle Decision Systems", "Partnership on AI", "white_paper", date(2024, 3, 15), "AI,governance,ethics", "Technology",
         "Framework for governing artificial intelligence systems used in autonomous vehicle decision-making, addressing transparency, accountability, and fairness requirements.",
         "https://partnershiponai.org/program/autonomous-vehicle-ai-governance"),
        ("Remote Vehicle Operation Standards", "SAE International", "guidance", date(2024, 6, 25), "teleoperation,remote,standards", "Technology",
         "SAE standards for remote vehicle operation and monitoring of autonomous vehicles, covering communication requirements, operator qualifications, and handoff procedures.",
         "https://sae.org/standards/remote-vehicle-operation"),
        ("Autonomous Vehicle Road Surface Detection Requirements", "FHWA", "report", date(2024, 10, 15), "road-surface,detection,pavement", "Infrastructure",
         "Study of autonomous vehicle requirements for road surface condition detection and the implications for pavement maintenance, marking standards, and winter operations.",
         "https://fhwa.dot.gov/research/av-road-surface-detection"),
        ("Consumer Rights and Autonomous Vehicle Data", "Consumer Federation of America", "policy_brief", date(2024, 2, 5), "consumer,data-rights,privacy", "Legal",
         "Policy brief on consumer data rights related to autonomous vehicle usage, including data ownership, consent requirements, and restrictions on data monetization.",
         "https://consumerfed.org/reports/autonomous-vehicle-consumer-data-rights"),
        ("Secure Over-the-Air Updates for Autonomous Vehicles", "Auto-ISAC", "guidance", date(2024, 7, 15), "OTA,security,updates", "Technology",
         "Automotive Information Sharing and Analysis Center guidance on securing over-the-air software updates for autonomous vehicles against tampering and cyber threats.",
         "https://automotiveisac.com/best-practices/ota-security-autonomous-vehicles"),
        ("Multimodal Trip Planning with Autonomous Vehicles", "Mobility Data Interoperability Principles", "white_paper", date(2024, 12, 20), "multimodal,planning,MaaS", "Transit",
         "Framework for integrating autonomous vehicle services into multimodal trip planning platforms, enabling seamless connections between AVs, transit, bikes, and walking.",
         "https://interoperablemobility.org/resources/multimodal-av-trip-planning"),
        ("Autonomous Vehicle Impacts on Vehicle Miles Traveled", "UC Davis ITS", "report", date(2024, 9, 1), "VMT,travel-demand,modeling", "Planning",
         "Research on how autonomous vehicles may affect total vehicle miles traveled, examining scenarios of increased travel due to empty repositioning versus decreased travel from shared use.",
         "https://its.ucdavis.edu/research/autonomous-vehicle-vmt-impacts"),
        ("Redundant Braking Systems for Autonomous Vehicles", "SAE International", "guidance", date(2024, 4, 25), "braking,redundancy,safety", "Safety",
         "Technical standard for redundant braking systems in autonomous vehicles without conventional driver controls, covering fail-operational requirements and degraded mode performance.",
         "https://sae.org/standards/redundant-braking-autonomous-vehicles"),
        ("Small Town and Rural Autonomous Vehicle Pilots", "National Rural Transit Assistance Program", "report", date(2024, 11, 30), "rural,pilots,transit", "Transit",
         "Documentation of autonomous vehicle pilot programs in small towns and rural areas, analyzing ridership, operational challenges, and community acceptance in low-density environments.",
         "https://nationalrtap.org/resources/rural-autonomous-vehicle-pilots"),
        ("Autonomous Delivery Robot Sidewalk Regulations", "Sidewalk Robotics Coalition", "policy_brief", date(2024, 1, 10), "delivery,sidewalk,robots", "Policy",
         "Comprehensive overview of municipal and state regulations governing autonomous delivery robots on sidewalks, comparing approaches across jurisdictions.",
         "https://sidewalkroboticscoalition.org/regulations-overview"),
        ("Construction Zone Navigation for Autonomous Vehicles", "FHWA", "report", date(2024, 8, 1), "construction,work-zones,navigation", "Safety",
         "FHWA study on autonomous vehicle challenges and solutions for navigating construction and work zones, including temporary signage recognition and worker safety.",
         "https://fhwa.dot.gov/research/av-construction-zone-navigation"),
        ("Autonomous Vehicle Supply Chain Risk Assessment", "CISA", "report", date(2024, 10, 1), "supply-chain,risk,security", "Technology",
         "Risk assessment of the autonomous vehicle supply chain covering component sourcing, software dependencies, and geopolitical risks affecting critical AV technologies.",
         "https://cisa.gov/publication/av-supply-chain-risk-assessment"),
        ("Shared Autonomous Vehicle Cleaning and Sanitation Standards", "CDC", "guidance", date(2024, 5, 15), "sanitation,shared,health", "Safety",
         "CDC guidance on cleaning and sanitation protocols for shared autonomous vehicles operating without human drivers, addressing public health and passenger safety standards.",
         "https://cdc.gov/healthy-homes/autonomous-vehicle-sanitation"),
        ("Autonomous Vehicle Impact on Property Tax Revenue", "Lincoln Institute of Land Policy", "report", date(2024, 11, 15), "property-tax,revenue,fiscal", "Economics",
         "Analysis of how autonomous vehicles may affect local property tax revenue through changes in parking demand, property values, and commercial real estate utilization.",
         "https://lincolninst.edu/research/autonomous-vehicle-property-tax"),
        ("Human-Machine Interface Design for AV Passengers", "Human Factors and Ergonomics Society", "white_paper", date(2024, 3, 25), "HMI,design,passengers", "Technology",
         "Design principles for human-machine interfaces in autonomous vehicles, focusing on passenger information displays, ride controls, and emergency communication systems.",
         "https://hfes.org/publications/autonomous-vehicle-passenger-hmi"),
        ("Night Operations Safety Analysis for Autonomous Vehicles", "AAA Foundation", "report", date(2024, 12, 30), "nighttime,safety,visibility", "Safety",
         "Analysis of autonomous vehicle safety performance during nighttime operations, examining sensor capabilities in low-light conditions and collision avoidance effectiveness.",
         "https://aaafoundation.org/research/autonomous-vehicle-night-operations-safety"),
        ("Urban Freight Delivery Optimization with Autonomous Vehicles", "MIT FreightLab", "white_paper", date(2024, 6, 30), "urban-freight,optimization,delivery", "Freight",
         "Research on optimizing urban freight delivery using autonomous vehicles, including route planning, time-window scheduling, and coordination with autonomous last-mile robots.",
         "https://ctl.mit.edu/research/urban-freight-autonomous-delivery-optimization"),
    ]
    resources.extend([Resource(title=d[0], author_org=d[1], resource_type=d[2], publication_date=d[3],
                               tags=d[4], topic_area=d[5], summary=d[6], url=d[7]) for d in _res4])
    db.add_all(resources)
    db.commit()


# ------------------------------------------------------------------ #
#  NEWS ARTICLES  (placeholder - populated below)
# ------------------------------------------------------------------ #
def _seed_news(db):
    if db.query(NewsArticle).count() > 0:
        return
    # (headline, source_org, pub_date, summary, url, category)
    _news = [
        ("Waymo Expands Driverless Service to Atlanta Metro Area", "Reuters", date(2025, 2, 15),
         "Waymo announced the expansion of its fully driverless ride-hail service to the Atlanta metropolitan area, marking the sixth US city where the Alphabet subsidiary operates commercially. The service will initially cover Midtown, Buckhead, and the airport corridor.",
         "https://reuters.com/technology/waymo-atlanta-expansion-2025", "deployment"),
        ("NHTSA Proposes New Safety Standards for Vehicles Without Steering Wheels", "The New York Times", date(2025, 2, 10),
         "The National Highway Traffic Safety Administration has proposed updated Federal Motor Vehicle Safety Standards to accommodate purpose-built autonomous vehicles that lack traditional driver controls such as steering wheels and pedals.",
         "https://nytimes.com/2025/02/10/business/nhtsa-autonomous-vehicle-safety-standards.html", "regulation"),
        ("Aurora Innovation Launches Commercial Autonomous Trucking on I-45", "Wall Street Journal", date(2025, 1, 28),
         "Aurora Innovation has begun commercial autonomous trucking operations on Interstate 45 between Dallas and Houston, becoming the first company to offer driverless freight service on a major US highway corridor.",
         "https://wsj.com/articles/aurora-autonomous-trucking-commercial-launch-2025", "deployment"),
        ("California Passes Landmark AV Liability Reform Bill", "Los Angeles Times", date(2025, 1, 20),
         "Governor signed AB 1234 establishing a clear liability framework for autonomous vehicle accidents in California. The law shifts primary liability to AV manufacturers when the automated driving system is engaged.",
         "https://latimes.com/california/story/2025-01-20/california-av-liability-reform", "regulation"),
        ("Cruise Restructures Under GM, Plans 2026 Relaunch", "TechCrunch", date(2025, 2, 5),
         "General Motors announced a major restructuring of its Cruise autonomous vehicle subsidiary, with plans to relaunch commercial driverless operations in early 2026 focusing on two initial markets.",
         "https://techcrunch.com/2025/02/05/cruise-restructuring-gm-2026-relaunch", "industry"),
        ("Senate Commerce Committee Advances AV LEADS Act", "Politico", date(2025, 2, 12),
         "The Senate Commerce Committee voted 18-7 to advance the AV LEADS Act, which would establish a federal framework for autonomous vehicle regulation and preempt certain state regulations.",
         "https://politico.com/news/2025/02/12/senate-av-leads-act-autonomous-vehicles", "regulation"),
        ("Waymo Reaches 100,000 Weekly Paid Trips Milestone", "Bloomberg", date(2025, 1, 15),
         "Alphabet's Waymo division has reached a milestone of 100,000 paid autonomous ride-hail trips per week across its five operational US cities, up from 50,000 in mid-2024.",
         "https://bloomberg.com/news/articles/2025-01-15/waymo-100k-weekly-trips", "industry"),
        ("Zoox Begins Public Testing of Purpose-Built Robotaxi in San Francisco", "The Verge", date(2025, 2, 1),
         "Amazon subsidiary Zoox has begun public testing of its purpose-built, bidirectional robotaxi vehicle on San Francisco streets. The vehicle has no steering wheel and carries up to four passengers.",
         "https://theverge.com/2025/2/1/zoox-robotaxi-san-francisco-public-testing", "deployment"),
        ("USDOT Awards $45M in ADS Demonstration Grants", "Transport Topics", date(2025, 1, 10),
         "The US Department of Transportation announced $45 million in Automated Driving System Demonstration Grants to nine projects across seven states for testing autonomous vehicles in real-world conditions.",
         "https://ttnews.com/articles/usdot-ads-demonstration-grants-2025", "funding"),
        ("Nuro Partners with FedEx for Autonomous Last-Mile Delivery Network", "CNBC", date(2025, 2, 8),
         "Autonomous delivery company Nuro announced a nationwide partnership with FedEx to deploy its R3 delivery vehicles across 12 US metro areas for last-mile package delivery.",
         "https://cnbc.com/2025/02/08/nuro-fedex-autonomous-delivery-partnership.html", "deployment"),
        ("New York State Launches AV Pilot Program on Long Island", "NY Post", date(2025, 1, 25),
         "New York State has launched its first autonomous vehicle pilot program, allowing permitted companies to test self-driving vehicles on designated routes in Nassau County.",
         "https://nypost.com/2025/01/25/new-york-autonomous-vehicle-pilot-long-island", "regulation"),
        ("Motional Expands Driverless Lyft Service Beyond Las Vegas Strip", "Las Vegas Review-Journal", date(2025, 2, 3),
         "Motional has expanded its driverless ride-hail service available through the Lyft app to cover the entire Las Vegas valley, tripling its operational area from the initial resort corridor.",
         "https://reviewjournal.com/business/motional-lyft-driverless-expansion-2025", "deployment"),
        ("Autonomous Vehicle Industry Attracts $8.2B in 2024 Investment", "PitchBook", date(2025, 1, 5),
         "The autonomous vehicle industry attracted $8.2 billion in venture capital and corporate investment in 2024, led by major funding rounds for Waymo, Aurora, and several Chinese AV companies.",
         "https://pitchbook.com/news/reports/2024-autonomous-vehicle-investment-report", "industry"),
        ("Tesla Full Self-Driving Faces New Regulatory Scrutiny After Incidents", "Washington Post", date(2025, 2, 18),
         "NHTSA has opened a new investigation into Tesla's Full Self-Driving system following a series of incidents where the system failed to properly identify road hazards and construction zones.",
         "https://washingtonpost.com/technology/2025/02/18/tesla-fsd-nhtsa-investigation", "safety"),
        ("Chicago Approves Autonomous Vehicle Testing Ordinance", "Chicago Tribune", date(2025, 1, 30),
         "The Chicago City Council approved an ordinance establishing rules for autonomous vehicle testing within city limits, including designated testing corridors and data-sharing requirements.",
         "https://chicagotribune.com/politics/ct-chicago-autonomous-vehicle-ordinance-20250130.html", "regulation"),
        ("Autonomous Trucking Could Save Freight Industry $100B Annually: Study", "FreightWaves", date(2025, 2, 14),
         "A new study by the American Transportation Research Institute estimates autonomous trucking technology could save the US freight industry $100 billion annually through labor cost reduction and fuel efficiency gains.",
         "https://freightwaves.com/news/autonomous-trucking-100-billion-savings-study", "industry"),
        ("May Mobility Wins Contract for Autonomous Transit in Detroit", "Detroit Free Press", date(2025, 1, 18),
         "May Mobility has been selected by the Detroit Department of Transportation to operate an autonomous shuttle service connecting the Michigan Avenue corridor with downtown transit hubs.",
         "https://freep.com/story/money/cars/2025/01/18/may-mobility-detroit-autonomous-transit", "deployment"),
        ("European Union Adopts Comprehensive Autonomous Vehicle Regulations", "Financial Times", date(2025, 2, 20),
         "The European Union has adopted a comprehensive regulatory framework for autonomous vehicles, establishing type-approval requirements for Level 3 and Level 4 automated driving systems across all member states.",
         "https://ft.com/content/eu-autonomous-vehicle-regulations-2025", "regulation"),
        ("Gatik Achieves Fully Driverless Operations on Texas Highways", "Forbes", date(2025, 1, 22),
         "Autonomous trucking company Gatik has achieved fully driverless middle-mile delivery operations on Texas highways, operating box trucks between Walmart distribution centers without safety drivers.",
         "https://forbes.com/sites/technology/2025/01/22/gatik-driverless-texas-walmart", "deployment"),
        ("NHTSA Standing General Order Data Shows 700+ AV Incidents in 2024", "Automotive News", date(2025, 2, 7),
         "NHTSA's latest Standing General Order report reveals over 700 reported incidents involving vehicles equipped with automated driving systems in 2024, a 35% increase from the previous year.",
         "https://autonews.com/mobility-report/nhtsa-sgo-av-incident-data-2024", "safety"),
        ("Kodiak Robotics Secures $250M Series C for Autonomous Trucking Expansion", "Axios", date(2025, 1, 12),
         "Kodiak Robotics raised $250 million in Series C funding to expand its autonomous trucking operations across the Sun Belt, with plans to add routes connecting Dallas to Atlanta.",
         "https://axios.com/2025/01/12/kodiak-robotics-series-c-autonomous-trucking", "funding"),
        ("San Francisco Residents Divided Over Autonomous Vehicle Presence", "San Francisco Chronicle", date(2025, 2, 22),
         "A new poll shows San Francisco residents are deeply divided over the growing presence of autonomous vehicles, with 48% supporting expansion and 42% wanting stricter limits on robotaxi operations.",
         "https://sfchronicle.com/sf/article/autonomous-vehicles-poll-2025.html", "industry"),
        ("Pentagon Explores Autonomous Vehicle Technology for Military Logistics", "Defense One", date(2025, 1, 8),
         "The Department of Defense is exploring the use of commercial autonomous vehicle technology for military logistics operations, awarding contracts to Aurora and Kodiak for convoy automation testing.",
         "https://defenseone.com/technology/2025/01/pentagon-autonomous-vehicles-military-logistics", "industry"),
        ("Insurance Industry Develops New Rating Model for Autonomous Vehicles", "Insurance Journal", date(2025, 2, 16),
         "Major insurance carriers have collaboratively developed a new actuarial rating model specifically for autonomous vehicles, shifting from driver-based risk assessment to technology and operator-based metrics.",
         "https://insurancejournal.com/news/national/2025/02/16/autonomous-vehicle-insurance-rating-model", "industry"),
        ("Beep Deploys Autonomous Shuttles at Orlando International Airport", "Orlando Sentinel", date(2025, 1, 14),
         "Autonomous shuttle company Beep has launched an autonomous shuttle service at Orlando International Airport, connecting terminal buildings with the new South Terminal complex.",
         "https://orlandosentinel.com/business/tourism/os-bz-beep-autonomous-shuttle-airport-20250114.html", "deployment"),
    ]
    articles = [NewsArticle(headline=d[0], source_org=d[1], publication_date=d[2], summary=d[3],
                            url=d[4], category=d[5]) for d in _news]
    _news2 = [
        ("Torc Robotics Begins Driverless Testing on I-35 Corridor", "TechCrunch", date(2025, 1, 3),
         "Daimler Truck subsidiary Torc Robotics has begun fully driverless testing of its autonomous Freightliner Cascadia trucks on the I-35 corridor between Dallas and San Antonio.",
         "https://techcrunch.com/2025/01/03/torc-robotics-driverless-testing-i35", "deployment"),
        ("Autonomous Vehicles Reduce Crash Rates by 57% in IIHS Study", "USA Today", date(2025, 2, 11),
         "A landmark study by the Insurance Institute for Highway Safety found that autonomous vehicles from major operators had 57% fewer crashes per million miles than comparable human-driven vehicles.",
         "https://usatoday.com/story/money/cars/2025/02/11/autonomous-vehicles-crash-rate-study", "safety"),
        ("Florida Allocates $50M for AV-Ready Infrastructure Upgrades", "Miami Herald", date(2025, 1, 28),
         "Florida's governor announced a $50 million infrastructure investment to upgrade state highways with V2I communication equipment and digital signage to support autonomous vehicle operations.",
         "https://miamiherald.com/news/politics-government/state-politics/article285678912.html", "funding"),
        ("Waymo and Uber Announce Ride-Hail Partnership", "CNBC", date(2025, 2, 6),
         "Waymo and Uber have announced a partnership to make Waymo's driverless vehicles available through the Uber app in Phoenix and Atlanta, expanding access to autonomous ride-hailing.",
         "https://cnbc.com/2025/02/06/waymo-uber-ride-hail-partnership.html", "industry"),
        ("Congress Debates Federal Preemption of State AV Laws", "Roll Call", date(2025, 2, 19),
         "Congressional hearings featured heated debate over federal preemption of state autonomous vehicle laws, with automakers pushing for national uniformity and states defending local authority.",
         "https://rollcall.com/2025/02/19/congress-federal-preemption-state-av-laws", "regulation"),
        ("Autonomous Vehicle Workers Demand New Labor Protections", "The Guardian", date(2025, 1, 16),
         "Remote vehicle operators and safety drivers at major AV companies are organizing to demand better labor protections, including limits on monitoring hours and stress-related workplace standards.",
         "https://theguardian.com/technology/2025/jan/16/autonomous-vehicle-workers-labor-protections", "industry"),
        ("Phoenix Becomes First City with Multiple Competing Robotaxi Services", "Arizona Republic", date(2025, 2, 4),
         "Phoenix has become the first US city with multiple competing commercial robotaxi services as Motional joins Waymo in offering paid autonomous rides to the general public.",
         "https://azcentral.com/story/money/business/tech/2025/02/04/phoenix-multiple-robotaxi-services", "deployment"),
        ("USDOT Releases National AV Data Collection Framework", "Transport Topics", date(2025, 1, 20),
         "The US Department of Transportation has released a voluntary national framework for autonomous vehicle data collection and sharing between operators, regulators, and researchers.",
         "https://ttnews.com/articles/usdot-national-av-data-framework-2025", "regulation"),
        ("Autonomous Delivery Robots Now Legal in 30 States", "The Verge", date(2025, 2, 13),
         "With Oregon becoming the latest state to pass legislation, autonomous delivery robots are now legally permitted to operate on sidewalks and crosswalks in 30 US states.",
         "https://theverge.com/2025/2/13/autonomous-delivery-robots-30-states-legal", "regulation"),
        ("Waymo Reports Zero At-Fault Injuries Across 10 Million Driverless Miles", "Bloomberg", date(2025, 1, 6),
         "Waymo published a safety report claiming zero at-fault injuries across more than 10 million fully driverless miles driven across its five US operating cities.",
         "https://bloomberg.com/news/articles/2025-01-06/waymo-safety-record-10-million-miles", "safety"),
        ("Texas Legislature Considers Comprehensive AV Regulatory Update", "Texas Tribune", date(2025, 2, 17),
         "The Texas Legislature has introduced SB 450, a comprehensive bill updating the state's autonomous vehicle regulations including new insurance requirements, data sharing mandates, and operational standards.",
         "https://texastribune.org/2025/02/17/texas-autonomous-vehicle-regulation-sb450", "regulation"),
        ("Pony.ai Files for IPO on NASDAQ", "Reuters", date(2025, 1, 9),
         "Chinese autonomous vehicle company Pony.ai has filed for an initial public offering on NASDAQ, seeking to raise $800 million to fund its US and international expansion plans.",
         "https://reuters.com/markets/ponyai-ipo-nasdaq-2025", "industry"),
        ("Autonomous School Bus Pilot Begins in Florida", "Education Week", date(2025, 2, 21),
         "A pilot program using autonomous school buses has begun in Hillsborough County, Florida, with modified vehicles operating on fixed routes with safety attendants on board.",
         "https://edweek.org/leadership/autonomous-school-bus-pilot-florida-2025", "deployment"),
        ("Google Invests Additional $5B in Waymo for Global Expansion", "Wall Street Journal", date(2025, 1, 23),
         "Alphabet has committed an additional $5 billion in funding to Waymo, earmarking the investment for international expansion and scaling its US robotaxi fleet to 50,000 vehicles.",
         "https://wsj.com/articles/google-waymo-5-billion-investment-2025", "funding"),
        ("AV Industry Faces Talent Shortage as Demand Grows", "MIT Technology Review", date(2025, 2, 9),
         "The autonomous vehicle industry is facing a critical shortage of specialized engineers in perception, planning, and simulation, with companies competing for talent through record compensation packages.",
         "https://technologyreview.com/2025/02/09/autonomous-vehicle-talent-shortage", "industry"),
        ("Serve Robotics IPO Raises $300M for Delivery Robot Expansion", "MarketWatch", date(2025, 1, 17),
         "Uber spinoff Serve Robotics completed its IPO on the NYSE, raising $300 million to fund the expansion of its autonomous sidewalk delivery robot fleet to 10 major US cities.",
         "https://marketwatch.com/story/serve-robotics-ipo-300-million-2025", "funding"),
        ("Pittsburgh Renews Commitment to AV Testing Hub Status", "Pittsburgh Post-Gazette", date(2025, 2, 2),
         "The city of Pittsburgh has renewed its partnership with Aurora, Argo AI alumni companies, and Carnegie Mellon University to maintain its position as a leading autonomous vehicle testing hub.",
         "https://post-gazette.com/business/tech-news/2025/02/02/pittsburgh-autonomous-vehicle-testing-hub", "deployment"),
        ("Japan and US Agree on Mutual Recognition of AV Testing Standards", "Nikkei Asia", date(2025, 1, 31),
         "Japan and the United States have signed a mutual recognition agreement for autonomous vehicle testing standards, allowing test data collected in one country to be used for certification in the other.",
         "https://asia.nikkei.com/Business/Automobiles/Japan-US-autonomous-vehicle-testing-mutual-recognition", "regulation"),
        ("Autonomous Vehicles and Disability Rights: Advocacy Groups Speak Out", "NPR", date(2025, 2, 23),
         "Disability rights organizations have issued a joint statement calling for stronger accessibility requirements in autonomous vehicles, citing concerns about wheelchair access and service animal accommodation.",
         "https://npr.org/2025/02/23/autonomous-vehicles-disability-rights-advocacy", "industry"),
        ("Motional and Uber Deepen Partnership for Autonomous Ride-Hail", "Uber Newsroom", date(2025, 1, 13),
         "Motional and Uber have expanded their partnership, making autonomous rides available in Los Angeles in addition to Las Vegas, with plans for additional cities by year-end.",
         "https://uber.com/newsroom/motional-partnership-expansion-2025", "deployment"),
        ("FHWA Awards $120M for Connected Vehicle Infrastructure", "Engineering News-Record", date(2025, 2, 15),
         "The Federal Highway Administration has awarded $120 million in grants to 15 states for deploying vehicle-to-infrastructure communication equipment on interstate highways.",
         "https://enr.com/articles/fhwa-connected-vehicle-infrastructure-grants-2025", "funding"),
        ("China's Baidu Apollo Seeks US Market Entry for Robotaxi Service", "South China Morning Post", date(2025, 1, 27),
         "Baidu's autonomous driving unit Apollo is exploring entry into the US market, applying for testing permits in California and Arizona amid geopolitical tensions over Chinese tech companies.",
         "https://scmp.com/tech/baidu-apollo-us-market-robotaxi-2025", "industry"),
        ("Autonomous Vehicle Cybersecurity Incident Raises Alarm", "Wired", date(2025, 2, 8),
         "A cybersecurity researcher disclosed a vulnerability in a major AV operator's fleet management system that could theoretically allow unauthorized access to vehicle routing, prompting an industry-wide security review.",
         "https://wired.com/story/autonomous-vehicle-cybersecurity-vulnerability-2025", "safety"),
        ("Michigan Announces $30M AV Workforce Training Initiative", "MLive", date(2025, 1, 11),
         "Michigan's governor announced a $30 million workforce training initiative to prepare workers for careers in autonomous vehicle manufacturing, maintenance, and remote operations.",
         "https://mlive.com/news/2025/01/michigan-autonomous-vehicle-workforce-training.html", "funding"),
        ("Autonomous Semi-Trucks Complete First Coast-to-Coast Journey", "CNN", date(2025, 2, 1),
         "A fleet of three autonomous semi-trucks from Aurora completed the first coast-to-coast autonomous freight journey from Los Angeles to Jacksonville, traveling 2,500 miles in 40 hours.",
         "https://cnn.com/2025/02/01/tech/autonomous-trucks-coast-to-coast-journey", "deployment"),
    ]
    articles.extend([NewsArticle(headline=d[0], source_org=d[1], publication_date=d[2], summary=d[3],
                                 url=d[4], category=d[5]) for d in _news2])
    _news3 = [
        ("Study: Autonomous Vehicles Could Eliminate 90% of DUI Fatalities", "MADD", date(2025, 1, 7),
         "Mothers Against Drunk Driving released a study projecting that widespread autonomous vehicle adoption could prevent up to 90% of the 13,000 annual DUI-related traffic fatalities in the US.",
         "https://madd.org/press-release/autonomous-vehicles-dui-fatalities-study-2025", "safety"),
        ("WeRide Begins Autonomous Testing in Silicon Valley", "San Jose Mercury News", date(2025, 2, 14),
         "Chinese autonomous vehicle company WeRide has begun testing its self-driving vehicles in San Jose and Fremont after receiving a California DMV autonomous testing permit.",
         "https://mercurynews.com/2025/02/14/weride-autonomous-testing-silicon-valley", "deployment"),
        ("Autonomous Vehicle Stocks Rally on Federal Regulation Hopes", "Barron's", date(2025, 2, 12),
         "Shares of publicly traded autonomous vehicle companies surged following positive signals from Congress on the AV LEADS Act, with Aurora up 22% and Mobileye gaining 15% in a single session.",
         "https://barrons.com/articles/autonomous-vehicle-stocks-rally-federal-regulation-2025", "industry"),
        ("Colorado Launches I-25 Autonomous Trucking Corridor", "Denver Post", date(2025, 1, 19),
         "Colorado has designated a 180-mile section of I-25 between Denver and Pueblo as an autonomous trucking corridor, with upgraded infrastructure and dedicated testing support.",
         "https://denverpost.com/2025/01/19/colorado-i25-autonomous-trucking-corridor", "deployment"),
        ("Cruise Names New CEO, Signals Operational Restart", "Axios", date(2025, 1, 24),
         "GM's Cruise division has named a new CEO and outlined a timeline for resuming autonomous vehicle operations, starting with supervised testing in Phoenix in Q2 2025.",
         "https://axios.com/2025/01/24/cruise-new-ceo-restart-operations", "industry"),
        ("Waymo Begins Mapping Operations in Washington, DC", "Washington Post", date(2025, 2, 20),
         "Waymo vehicles have been spotted mapping streets throughout Washington, DC, suggesting the company is preparing for a potential expansion of its ride-hail service to the nation's capital.",
         "https://washingtonpost.com/technology/2025/02/20/waymo-mapping-washington-dc", "deployment"),
        ("Autonomous Vehicle Patent Filings Hit Record High in 2024", "IEEE Spectrum", date(2025, 1, 4),
         "Patent filings related to autonomous vehicle technology reached a record high in 2024 with over 12,000 applications, led by Waymo, Mobileye, and several Chinese technology companies.",
         "https://spectrum.ieee.org/autonomous-vehicle-patents-record-2024", "industry"),
        ("Senate Confirms New NHTSA Administrator with AV Expertise", "Government Executive", date(2025, 2, 3),
         "The Senate confirmed a new NHTSA administrator with deep expertise in autonomous vehicle technology and safety regulation, signaling potential acceleration of federal AV rulemaking.",
         "https://govexec.com/management/2025/02/senate-confirms-nhtsa-administrator-av-expertise", "regulation"),
        ("First Autonomous Fire Department Response Vehicle Tested in Scottsdale", "Fire Engineering", date(2025, 1, 15),
         "The Scottsdale Fire Department has begun testing an autonomous response vehicle that can navigate to emergency scenes and transport equipment without a human driver.",
         "https://fireengineering.com/apparatus/autonomous-fire-response-vehicle-scottsdale-2025", "deployment"),
        ("Autonomous Vehicles Generate 40TB of Data Per Day Per Vehicle", "Ars Technica", date(2025, 2, 7),
         "New analysis reveals that modern autonomous vehicles generate approximately 40 terabytes of sensor and operational data per day, raising questions about data storage, privacy, and infrastructure requirements.",
         "https://arstechnica.com/cars/2025/02/autonomous-vehicle-data-generation-40tb-day", "industry"),
        ("Ohio Turnpike Becomes Third State to Designate AV Freight Corridor", "Cleveland Plain Dealer", date(2025, 1, 21),
         "Ohio has designated the Ohio Turnpike (I-80/90) as an autonomous freight corridor, joining Texas and Colorado in creating dedicated infrastructure for autonomous trucking operations.",
         "https://cleveland.com/business/2025/01/ohio-turnpike-autonomous-freight-corridor.html", "regulation"),
        ("Starship Technologies Surpasses 5 Million Autonomous Deliveries", "Business Insider", date(2025, 2, 10),
         "Autonomous delivery robot company Starship Technologies announced it has completed over 5 million autonomous deliveries across college campuses and suburban neighborhoods worldwide.",
         "https://businessinsider.com/starship-technologies-5-million-autonomous-deliveries-2025", "industry"),
        ("Mobileye Announces Gen 3 Self-Driving System with Full Redundancy", "The Verge", date(2025, 1, 29),
         "Intel's Mobileye unveiled its third-generation self-driving system featuring full sensor and compute redundancy, designed for deployment in robotaxi and autonomous delivery vehicles.",
         "https://theverge.com/2025/1/29/mobileye-gen3-self-driving-system", "industry"),
        ("Los Angeles Tests Autonomous Street Sweepers to Reduce Labor Costs", "LA Daily News", date(2025, 2, 16),
         "The City of Los Angeles has begun piloting autonomous street sweeping vehicles in three districts, aiming to reduce costs and improve consistency of street cleaning operations.",
         "https://dailynews.com/2025/02/16/los-angeles-autonomous-street-sweepers-pilot", "deployment"),
        ("Global Autonomous Vehicle Market to Reach $2 Trillion by 2035", "McKinsey Quarterly", date(2025, 1, 8),
         "A new McKinsey report projects the global autonomous vehicle market will reach $2 trillion by 2035, driven by ride-hail, freight, and last-mile delivery applications.",
         "https://mckinsey.com/industries/automotive-and-assembly/autonomous-vehicle-market-2035", "industry"),
        ("AV Industry Leaders Form Safety Consortium for Shared Standards", "SAE International", date(2025, 2, 5),
         "Fifteen autonomous vehicle companies have formed the AV Safety Consortium to develop shared safety standards, testing protocols, and incident reporting frameworks for the industry.",
         "https://sae.org/news/2025/02/av-safety-consortium-shared-standards", "safety"),
        ("Virginia Tech Launches AV Research Center with $20M State Funding", "Roanoke Times", date(2025, 1, 26),
         "Virginia Tech has launched a new Autonomous Vehicle Research Center funded by a $20 million state investment, focusing on rural AV applications and winter weather operations.",
         "https://roanoke.com/news/local/virginia-tech-autonomous-vehicle-research-center-2025", "funding"),
        ("Autonomous Vehicles Allowed in HOV Lanes Under New Federal Guidance", "AASHTO Journal", date(2025, 2, 18),
         "The FHWA has issued guidance allowing states to permit autonomous vehicles with fewer than two occupants to use HOV lanes, encouraging AV adoption and reducing congestion.",
         "https://aashtojournal.org/2025/02/18/autonomous-vehicles-hov-lanes-federal-guidance", "regulation"),
        ("Uber Reports 60% Cost Reduction in AV-Powered Ride-Hail Markets", "Financial Times", date(2025, 1, 30),
         "Uber reported that markets where it partners with autonomous vehicle operators see up to 60% lower operating costs per ride compared to human-driven vehicles.",
         "https://ft.com/content/uber-autonomous-vehicle-cost-reduction-2025", "industry"),
        ("NTSB Recommends Mandatory AV Event Data Recorders", "Associated Press", date(2025, 2, 22),
         "The National Transportation Safety Board has formally recommended that all autonomous vehicles be equipped with standardized event data recorders to aid in crash investigations.",
         "https://apnews.com/article/ntsb-autonomous-vehicle-event-data-recorders-2025", "regulation"),
        ("Autonomous Construction Vehicles Tested at Major Highway Project", "Engineering News-Record", date(2025, 1, 13),
         "Caterpillar and Built Robotics are testing autonomous construction vehicles at a major highway interchange project in Texas, demonstrating automated grading and hauling operations.",
         "https://enr.com/articles/autonomous-construction-vehicles-texas-highway-2025", "deployment"),
        ("South Korea and US Announce Joint AV Safety Testing Agreement", "Korea Herald", date(2025, 2, 9),
         "South Korea and the United States have announced a joint agreement for autonomous vehicle safety testing, allowing manufacturers to share crash test and simulation data between both countries.",
         "https://koreaherald.com/view.php?ud=20250209000521", "regulation"),
        ("AAA Survey: 55% of Americans Now Trust Autonomous Vehicles", "AAA Newsroom", date(2025, 1, 19),
         "AAA's annual survey shows public trust in autonomous vehicles has risen to 55%, up from 42% in 2023, driven by growing familiarity with ride-hail services in operational cities.",
         "https://newsroom.aaa.com/2025/01/annual-autonomous-vehicle-trust-survey", "industry"),
        ("Amazon Integrates Zoox Vehicles into Prime Delivery Network", "GeekWire", date(2025, 2, 13),
         "Amazon has begun integrating Zoox autonomous vehicles into its Prime delivery network for select routes in San Francisco, marking the first commercial use of Zoox technology beyond ride-hail.",
         "https://geekwire.com/2025/amazon-zoox-prime-delivery-integration", "deployment"),
        ("Minnesota Approves Winter AV Testing Program on I-94", "Star Tribune", date(2025, 1, 2),
         "Minnesota has approved a specialized winter autonomous vehicle testing program on I-94 between Minneapolis and Fargo, designed to evaluate AV performance in extreme cold and snow conditions.",
         "https://startribune.com/minnesota-winter-autonomous-vehicle-testing-i94/2025-01-02", "regulation"),
    ]
    articles.extend([NewsArticle(headline=d[0], source_org=d[1], publication_date=d[2], summary=d[3],
                                 url=d[4], category=d[5]) for d in _news3])
    _news4 = [
        ("Georgia Tech Develops AI System to Predict AV Sensor Failures", "IEEE Spectrum", date(2025, 2, 11),
         "Researchers at Georgia Tech have developed an AI system that can predict autonomous vehicle sensor failures up to 30 seconds in advance, allowing vehicles to safely pull over before a malfunction.",
         "https://spectrum.ieee.org/georgia-tech-av-sensor-failure-prediction-2025", "safety"),
        ("Autonomous Ambulance Concept Approved for Testing in Nevada", "EMS World", date(2025, 1, 16),
         "The Nevada DMV has approved testing of an autonomous ambulance concept vehicle that can transport patients to hospitals while paramedics provide care unencumbered by driving duties.",
         "https://emsworld.com/news/autonomous-ambulance-nevada-testing-2025", "deployment"),
        ("National Governors Association Releases AV Policy Toolkit", "NGA", date(2025, 2, 4),
         "The National Governors Association has released a comprehensive policy toolkit to help state governors develop autonomous vehicle regulations, covering safety, insurance, data, and workforce issues.",
         "https://nga.org/center/publications/autonomous-vehicle-policy-toolkit-2025", "regulation"),
        ("Autonomous Mining Vehicles Operate 24/7 at Arizona Copper Mine", "Mining Technology", date(2025, 1, 10),
         "An Arizona copper mine has deployed a fleet of fully autonomous haul trucks that operate around the clock, achieving a 30% productivity increase over human-operated vehicles.",
         "https://mining-technology.com/news/autonomous-mining-vehicles-arizona-2025", "deployment"),
        ("FCC Allocates Additional 5.9 GHz Spectrum for V2X Communications", "Fierce Wireless", date(2025, 2, 17),
         "The Federal Communications Commission has allocated additional spectrum in the 5.9 GHz band for vehicle-to-everything communications, resolving years of debate over spectrum sharing with Wi-Fi.",
         "https://fiercewireless.com/5g/fcc-5-9-ghz-spectrum-v2x-autonomous-vehicles-2025", "regulation"),
        ("Aurora Reports First Profitable Quarter from Autonomous Trucking", "CNBC", date(2025, 1, 22),
         "Aurora Innovation reported its first profitable quarter, driven by growing revenue from commercial autonomous trucking operations on the Dallas-Houston corridor.",
         "https://cnbc.com/2025/01/22/aurora-first-profitable-quarter-autonomous-trucking.html", "industry"),
        ("Portland Bans Autonomous Vehicle Testing on Residential Streets", "The Oregonian", date(2025, 2, 6),
         "Portland City Council passed an ordinance restricting autonomous vehicle testing to commercial and arterial streets, banning operations on residential streets amid safety concerns from neighborhood groups.",
         "https://oregonlive.com/portland/2025/02/portland-bans-autonomous-vehicle-testing-residential-streets.html", "regulation"),
        ("Mobileye and Volkswagen Unveil ID.Buzz Autonomous Shuttle", "Motor Trend", date(2025, 1, 14),
         "Mobileye and Volkswagen have unveiled an autonomous version of the ID.Buzz electric van, designed for commercial ride-hail and shuttle service deployment beginning in 2026.",
         "https://motortrend.com/news/mobileye-volkswagen-id-buzz-autonomous-shuttle-2025", "industry"),
        ("US Army Awards $100M Contract for Autonomous Convoy Technology", "Defense News", date(2025, 2, 19),
         "The US Army has awarded a $100 million contract to develop autonomous convoy technology that would allow a single human-driven lead vehicle to guide a platoon of autonomous supply trucks.",
         "https://defensenews.com/land/2025/02/19/army-autonomous-convoy-technology-contract", "funding"),
        ("Autonomous Vehicle Accessibility: A Long Road Ahead", "The Atlantic", date(2025, 1, 5),
         "Long-form investigation into the accessibility challenges facing the autonomous vehicle industry, documenting the experiences of passengers with disabilities using current robotaxi services.",
         "https://theatlantic.com/technology/archive/2025/01/autonomous-vehicle-accessibility-challenges", "industry"),
        ("Dubai Partners with Waymo for World's First Autonomous Taxi Fleet", "Gulf News", date(2025, 2, 15),
         "Dubai's Roads and Transport Authority has partnered with Waymo to deploy what will be the world's first large-scale autonomous taxi fleet in a Middle Eastern city by 2027.",
         "https://gulfnews.com/uae/transport/dubai-waymo-autonomous-taxi-fleet-2025", "deployment"),
        ("Trucking Unions Push Back Against Autonomous Vehicle Expansion", "NPR", date(2025, 1, 18),
         "The Teamsters union has launched a national campaign against autonomous trucking expansion, arguing that the technology threatens the livelihoods of 3.5 million US truck drivers.",
         "https://npr.org/2025/01/18/trucking-unions-autonomous-vehicle-expansion-pushback", "industry"),
        ("Arizona State University Study Maps AV Service Gaps in Low-Income Areas", "Phoenix New Times", date(2025, 2, 21),
         "ASU researchers found that autonomous ride-hail services in Phoenix disproportionately serve higher-income neighborhoods, with significant service gaps in south Phoenix and west Mesa.",
         "https://phoenixnewtimes.com/news/asu-study-autonomous-vehicle-service-gaps-low-income-2025", "industry"),
        ("Autonomous Farm Equipment Market Grows 45% in 2024", "Farm Journal", date(2025, 1, 7),
         "Sales of autonomous farm equipment including self-driving tractors and harvesters grew 45% in 2024, with John Deere, CNH Industrial, and AGCO leading adoption among large-scale farmers.",
         "https://farmjournal.com/markets/autonomous-farm-equipment-growth-2024", "industry"),
        ("Boston Dynamics Explores Autonomous Vehicle Integration for Robots", "Robotics Business Review", date(2025, 2, 3),
         "Boston Dynamics is exploring integration between its walking robots and autonomous vehicles for package delivery, where AVs transport goods to neighborhoods and robots handle last-100-foot delivery.",
         "https://roboticsbusinessreview.com/news/boston-dynamics-autonomous-vehicle-robot-delivery-2025", "industry"),
        ("NHTSA Updates Standing General Order to Require More Detailed AV Crash Reports", "Automotive News", date(2025, 1, 25),
         "NHTSA has updated its Standing General Order for automated driving system incident reporting, requiring more detailed data including pre-crash ADS status, sensor conditions, and software version.",
         "https://autonews.com/regulation-safety/nhtsa-updates-standing-general-order-av-crash-reports-2025", "regulation"),
        ("Waymo Opens API for Third-Party Ride Booking Integration", "Protocol", date(2025, 2, 8),
         "Waymo has launched a public API allowing third-party apps and services to book Waymo rides directly, opening the platform to hotel concierge services, event apps, and transit agencies.",
         "https://protocol.com/bulletins/waymo-public-api-ride-booking-2025", "industry"),
        ("New Hampshire Becomes 35th State to Pass AV Legislation", "Concord Monitor", date(2025, 1, 12),
         "New Hampshire's governor signed HB 234, making the Granite State the 35th to pass legislation explicitly authorizing autonomous vehicle testing and operation on public roads.",
         "https://concordmonitor.com/new-hampshire-autonomous-vehicle-legislation-2025", "regulation"),
        ("Autonomous Vehicle Mapping Companies See Consolidation Wave", "TechCrunch", date(2025, 2, 14),
         "The autonomous vehicle mapping industry is undergoing rapid consolidation, with three major acquisitions in Q4 2024 as HD mapping becomes critical infrastructure for self-driving operations.",
         "https://techcrunch.com/2025/02/14/autonomous-vehicle-mapping-consolidation", "industry"),
        ("First Autonomous Vehicle Involved in Fatal Pedestrian Accident Since 2018", "Associated Press", date(2025, 1, 31),
         "NHTSA is investigating the first fatal pedestrian accident involving a commercially operating autonomous vehicle since the 2018 Uber incident, occurring in a Phoenix suburb.",
         "https://apnews.com/article/autonomous-vehicle-fatal-pedestrian-accident-phoenix-2025", "safety"),
        ("Las Vegas Convention Center Deploys Autonomous People Movers", "Las Vegas Sun", date(2025, 2, 1),
         "The Las Vegas Convention Center has deployed a fleet of autonomous people movers manufactured by Navya to transport attendees between convention halls during major trade shows.",
         "https://lasvegassun.com/news/2025/feb/01/las-vegas-convention-center-autonomous-people-movers", "deployment"),
        ("California DMV Reports Record 45 AV Companies Hold Testing Permits", "Sacramento Bee", date(2025, 1, 20),
         "The California DMV reported a record 45 companies now hold autonomous vehicle testing permits in the state, up from 35 in 2023, reflecting growing industry activity.",
         "https://sacbee.com/news/california/article285234567.html", "regulation"),
        ("Rivian Explores Autonomous Delivery Van for Amazon", "Electrek", date(2025, 2, 11),
         "Electric vehicle maker Rivian is developing an autonomous version of its Amazon delivery van, with prototype testing scheduled to begin in late 2025 at Amazon fulfillment centers.",
         "https://electrek.co/2025/02/11/rivian-autonomous-delivery-van-amazon", "industry"),
        ("Tennessee Approves Autonomous Vehicle Platooning on Interstate System", "Nashville Tennessean", date(2025, 1, 9),
         "Tennessee has approved autonomous truck platooning on the state's interstate highway system, allowing convoys of two or more autonomous trucks to travel together at reduced following distances.",
         "https://tennessean.com/story/money/2025/01/09/tennessee-autonomous-vehicle-platooning-interstate", "regulation"),
        ("Waymo Safety Driver Workforce Shrinks as Driverless Operations Expand", "The Information", date(2025, 2, 18),
         "As Waymo expands fully driverless operations, the company has reduced its safety driver workforce by 40%, transitioning employees to remote monitoring and fleet management roles.",
         "https://theinformation.com/articles/waymo-safety-driver-workforce-reduction-2025", "industry"),
        ("National Park Service Tests Autonomous Shuttles at Yellowstone", "National Parks Traveler", date(2025, 1, 3),
         "The National Park Service is testing autonomous shuttle buses at Yellowstone National Park to reduce traffic congestion and emissions on popular tourist routes during peak season.",
         "https://nationalparkstraveler.org/2025/01/autonomous-shuttles-yellowstone-test-2025", "deployment"),
        ("DOT Inspector General Flags Concerns Over AV Grant Oversight", "Government Accountability Project", date(2025, 2, 16),
         "The DOT Inspector General released a report flagging concerns about insufficient oversight of federal AV demonstration grants, recommending stronger performance metrics and safety evaluations.",
         "https://govexec.com/oversight/2025/02/dot-inspector-general-av-grant-oversight-concerns", "regulation"),
        ("Apple Shifts AV Focus from Full Self-Driving to Advanced ADAS", "9to5Mac", date(2025, 1, 28),
         "Apple has reportedly shifted its autonomous vehicle strategy from pursuing full self-driving capability to developing an advanced driver-assistance system for licensing to automakers.",
         "https://9to5mac.com/2025/01/28/apple-autonomous-vehicle-adas-strategy-shift", "industry"),
    ]
    articles.extend([NewsArticle(headline=d[0], source_org=d[1], publication_date=d[2], summary=d[3],
                                 url=d[4], category=d[5]) for d in _news4])
    db.add_all(articles)
    db.commit()


# ------------------------------------------------------------------ #
#  CURBSIDE REGULATIONS  (placeholder - populated below)
# ------------------------------------------------------------------ #
def _seed_curbside(db):
    if db.query(CurbsideRegulation).count() > 0:
        return
    # (city, state, state_code, lat, lng, reg_type, description, applies_to, date_adopted, status, source_url)
    _curb = [
        ("San Francisco", "California", "CA", 37.7749, -122.4194, "Passenger Loading Zone", "Designated AV passenger loading zones in downtown, SoMa, and Mission districts for robotaxi pick-up and drop-off operations.", "Autonomous passenger vehicles", date(2023, 6, 1), "active",
         "https://sfmta.com/projects/autonomous-vehicle-loading-zones"),
        ("San Francisco", "California", "CA", 37.7649, -122.4294, "Idle/Dwell Restrictions", "Autonomous vehicles may not idle or dwell on public streets for more than 5 minutes outside of designated zones.", "All autonomous vehicles", date(2023, 9, 1), "active",
         "https://sfmta.com/regulations/autonomous-vehicle-idle-restrictions"),
        ("Phoenix", "Arizona", "AZ", 33.4484, -112.0740, "Passenger Loading Zone", "AV-designated loading zones near major destinations including Sky Harbor Airport, downtown Phoenix, and Old Town Scottsdale.", "Autonomous ride-hail vehicles", date(2022, 11, 1), "active",
         "https://phoenix.gov/streets/av-loading-zones"),
        ("Phoenix", "Arizona", "AZ", 33.4384, -112.0640, "Speed Restrictions", "25 mph speed limit for autonomous vehicles in residential zones and school areas within Phoenix city limits.", "All autonomous vehicles", date(2023, 3, 1), "active",
         "https://phoenix.gov/streets/av-speed-restrictions"),
        ("Los Angeles", "California", "CA", 34.0522, -118.2437, "Delivery Zone", "Designated curbside zones for autonomous delivery vehicles in Hollywood, Santa Monica, and downtown LA business districts.", "Autonomous delivery vehicles", date(2024, 1, 1), "active",
         "https://ladot.lacity.org/autonomous-delivery-zones"),
        ("Los Angeles", "California", "CA", 34.0422, -118.2337, "Operating Hours", "Autonomous delivery robots restricted to operating between 6 AM and 10 PM on city sidewalks and crosswalks.", "Sidewalk delivery robots", date(2023, 7, 1), "active",
         "https://ladot.lacity.org/autonomous-delivery-robot-hours"),
        ("Austin", "Texas", "TX", 30.2672, -97.7431, "Passenger Loading Zone", "Downtown Austin AV loading zones on 6th Street, Congress Avenue, and near the Convention Center for passenger pick-up/drop-off.", "Autonomous ride-hail vehicles", date(2024, 3, 1), "active",
         "https://austintexas.gov/department/autonomous-vehicle-zones"),
        ("Las Vegas", "Nevada", "NV", 36.1699, -115.1398, "Passenger Loading Zone", "Designated AV loading zones along the Las Vegas Strip and downtown Fremont Street for robotaxi operations.", "Autonomous passenger vehicles", date(2023, 10, 1), "active",
         "https://lasvegasnevada.gov/residents/autonomous-vehicle-zones"),
        ("Las Vegas", "Nevada", "NV", 36.1599, -115.1498, "Geofence Restriction", "Autonomous vehicles prohibited from entering the Las Vegas Motor Speedway area during event days without special authorization.", "All autonomous vehicles", date(2024, 2, 1), "active",
         "https://lasvegasnevada.gov/residents/av-geofence-restrictions"),
        ("Miami", "Florida", "FL", 25.7617, -80.1918, "Passenger Loading Zone", "AV passenger zones in Brickell, Wynwood, and Miami Beach for autonomous ride-hail pick-up and drop-off.", "Autonomous ride-hail vehicles", date(2024, 4, 1), "active",
         "https://miamigov.com/Services/Transportation/autonomous-vehicle-zones"),
        ("Houston", "Texas", "TX", 29.7604, -95.3698, "Delivery Zone", "Designated curbside delivery zones in Galleria, Midtown, and Heights neighborhoods for autonomous delivery operations.", "Autonomous delivery vehicles", date(2023, 8, 1), "active",
         "https://houstontx.gov/transportation/autonomous-delivery-zones"),
        ("Pittsburgh", "Pennsylvania", "PA", 40.4406, -79.9959, "Testing Corridor", "Designated AV testing corridors in the Strip District, Oakland, and North Shore with enhanced monitoring infrastructure.", "Testing autonomous vehicles", date(2022, 5, 1), "active",
         "https://pittsburghpa.gov/mobility/autonomous-vehicle-testing"),
        ("Dallas", "Texas", "TX", 32.7767, -96.7970, "Freight Loading Zone", "Dedicated autonomous freight loading zones near I-35 and I-45 interchange areas for autonomous trucking transfer operations.", "Autonomous freight vehicles", date(2024, 5, 1), "active",
         "https://dallascityhall.com/departments/transportation/autonomous-freight-zones"),
        ("Boston", "Massachusetts", "MA", 42.3601, -71.0589, "Testing Permit Zone", "Designated AV testing areas in the Seaport District, Back Bay, and Raymond L. Flynn Marine Park with city permit requirements.", "Testing autonomous vehicles", date(2022, 8, 1), "active",
         "https://boston.gov/departments/new-urban-mechanics/autonomous-vehicles"),
        ("Denver", "Colorado", "CO", 39.7392, -104.9903, "Speed Restrictions", "20 mph speed limit for autonomous vehicles in the 16th Street Mall area and surrounding pedestrian-priority zones.", "All autonomous vehicles", date(2023, 5, 1), "active",
         "https://denvergov.org/Government/Departments/Autonomous-Vehicles"),
        ("Seattle", "Washington", "WA", 47.6062, -122.3321, "Pilot Program Zone", "AV pilot program zones in the South Lake Union and University District areas with mandatory data-sharing requirements.", "Pilot program vehicles", date(2024, 6, 1), "active",
         "https://seattle.gov/transportation/autonomous-vehicle-pilot"),
        ("Ann Arbor", "Michigan", "MI", 42.2808, -83.7430, "Shuttle Corridor", "Designated autonomous shuttle corridors connecting downtown, the University of Michigan campus, and the medical center.", "Autonomous shuttle vehicles", date(2019, 3, 1), "active",
         "https://a2gov.org/departments/transportation/autonomous-shuttles"),
        ("Arlington", "Texas", "TX", 32.7357, -97.1081, "Entertainment District Zone", "AV operating zone covering the entertainment district between AT&T Stadium, Globe Life Field, and Six Flags.", "Autonomous shuttle/ride-hail", date(2021, 9, 1), "active",
         "https://arlingtontx.gov/autonomous-vehicles"),
        ("Jacksonville", "Florida", "FL", 30.3322, -81.6557, "Innovation Corridor", "Bay Street Innovation Corridor designated for autonomous shuttle and delivery vehicle operations with V2I infrastructure.", "Autonomous shuttles and delivery", date(2021, 6, 1), "active",
         "https://coj.net/departments/public-works/autonomous-vehicle-corridor"),
        ("Chandler", "Arizona", "AZ", 33.3062, -111.8413, "Residential Access", "Autonomous vehicles permitted on all residential streets in Chandler with a 25 mph speed limit and school zone restrictions.", "Autonomous ride-hail vehicles", date(2020, 4, 1), "active",
         "https://chandleraz.gov/residents/autonomous-vehicles"),
        ("Mountain View", "California", "CA", 37.3861, -122.0839, "Delivery Robot Zone", "Sidewalk delivery robots permitted in downtown Mountain View and residential areas south of El Camino Real.", "Sidewalk delivery robots", date(2022, 10, 1), "active",
         "https://mountainview.gov/depts/pw/transport/autonomous-delivery"),
        ("Scottsdale", "Arizona", "AZ", 33.4942, -111.9261, "Passenger Loading Zone", "Dedicated AV pick-up/drop-off zones in Old Town Scottsdale and along the Scottsdale Road corridor.", "Autonomous ride-hail vehicles", date(2023, 1, 1), "active",
         "https://scottsdaleaz.gov/transportation/autonomous-vehicles"),
        ("Peachtree Corners", "Georgia", "GA", 33.9701, -84.2199, "Technology Parkway", "Entire Technology Parkway designated as an autonomous vehicle testing and operations zone with integrated V2I systems.", "All autonomous vehicles", date(2020, 9, 1), "active",
         "https://peachtreecornersga.gov/curiosity-lab/autonomous-vehicles"),
        ("Bentonville", "Arkansas", "AR", 36.3729, -94.2088, "Freight Corridor", "Designated autonomous freight corridor connecting Walmart distribution centers with retail locations in the Bentonville metro area.", "Autonomous freight vehicles", date(2022, 3, 1), "active",
         "https://bentonvillear.com/autonomous-freight"),
        ("Lake Nona", "Florida", "FL", 28.3697, -81.2849, "Community Zone", "Lake Nona community-wide autonomous vehicle operating zone with dedicated shuttle stops and passenger loading areas.", "Autonomous shuttles", date(2019, 1, 1), "active",
         "https://lakenona.com/autonomous-vehicles"),
    ]
    regs = [CurbsideRegulation(city=d[0], state=d[1], state_code=d[2], latitude=d[3], longitude=d[4],
                               regulation_type=d[5], description=d[6], applies_to=d[7],
                               date_adopted=d[8], status=d[9], source_url=d[10]) for d in _curb]
    db.add_all(regs)
    db.commit()
